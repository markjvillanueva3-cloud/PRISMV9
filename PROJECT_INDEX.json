{
  "_meta": {
    "description": "Unified PRISM project index \u2014 single-read bootstrap for AI agents",
    "version": "1.0.0",
    "generatedAt": "2026-02-27T15:01:03.817854+00:00",
    "generatedBy": "rebuild_project_index.py",
    "sources": [
      "CURRENT_STATE.json",
      "MASTER_INVENTORY.json",
      "SESSION_STATE.json",
      "CLAUDE_MEMORY.json",
      "SCRIPTS/extraction_index_*.json"
    ]
  },
  "project": {
    "name": "PRISM Manufacturing Intelligence v9.0",
    "targetVersion": "9.0.0",
    "sourceVersion": "8.89.002",
    "monolithLines": 986621,
    "extractedFiles": 1775,
    "owner": "Mark Villanueva",
    "github": "markjvillanueva3-cloud/PRISMV9",
    "techStack": {
      "frontend": "HTML/JS (single file builds)",
      "databases": "JS objects (embedded)",
      "ai_ml": "TensorFlow.js, custom algorithms",
      "knowledge": "MIT courses, manufacturer catalogs"
    },
    "components": [
      "Ultimate Speed & Feed Calculator",
      "Post Processor Generator",
      "Shop Manager (Quoting/ERP/Business)",
      "Auto CNC Program Generator (Print-to-Program)"
    ],
    "products": [
      {
        "id": "SFC",
        "name": "Speed & Feed Calculator",
        "layer": "L7",
        "priority": 1
      },
      {
        "id": "PPG",
        "name": "Post Processor Generator",
        "layer": "L8",
        "priority": 2
      },
      {
        "id": "CADCAM",
        "name": "CAD/CAM Learning & Help",
        "layer": "L8",
        "priority": 3
      },
      {
        "id": "ERP",
        "name": "ERP/Quoting/Business Management",
        "layer": "L8",
        "priority": 4
      }
    ]
  },
  "layers": {
    "L0": {
      "name": "Data Foundation",
      "target": 38,
      "existing": 14,
      "status": "not_started",
      "milestones": 5,
      "milestonesComplete": 0,
      "sessions": "10-14",
      "details": "14 existing registries + 12 core + 12 specialty databases. 29,569 entries to enrich. 1,775 extracted files to consolidate."
    },
    "L1": {
      "name": "Algorithm Foundation",
      "target": 44,
      "existing": 17,
      "status": "not_started",
      "milestones": 4,
      "milestonesComplete": 0,
      "sessions": "6-8",
      "details": "17 existing + 14 monolith port + 13 new algorithms."
    },
    "L2": {
      "name": "Engine Foundation",
      "target": 187,
      "existing": 75,
      "status": "not_started",
      "milestones": 5,
      "milestonesComplete": 0,
      "sessions": "20-26",
      "details": "75 existing + 112 new (8 monolith port + 20 mfg intel + 16 CAD/CAM + 16 infra + 52 PASS2)."
    },
    "L3": {
      "name": "Dispatcher Layer",
      "target": 44,
      "existing": 32,
      "status": "not_started",
      "milestones": 2,
      "milestonesComplete": 0,
      "sessions": "4-6",
      "details": "32 existing (670 actions) + 12 new dispatchers + 100+ new actions."
    },
    "L4": {
      "name": "Hooks & Safety",
      "target": 152,
      "existing": 112,
      "status": "not_started",
      "milestones": 2,
      "milestonesComplete": 0,
      "sessions": "3-4",
      "details": "112 existing + 40 new hooks + 12 new cadences."
    },
    "L5": {
      "name": "Skills & Scripts",
      "target": 269,
      "existing": 201,
      "status": "not_started",
      "milestones": 3,
      "milestonesComplete": 0,
      "sessions": "4-6",
      "details": "153 skills (57 CC + 96 PRISM) + 44 new. 48 scripts + 28 new."
    },
    "L6": {
      "name": "API Layer",
      "target": 50,
      "existing": 0,
      "status": "not_started",
      "milestones": 2,
      "milestonesComplete": 0,
      "sessions": "3-4",
      "details": "50+ REST/WebSocket endpoints exposing all dispatcher actions."
    },
    "L7": {
      "name": "SFC Product",
      "target": 4,
      "existing": 0,
      "status": "not_started",
      "milestones": 4,
      "milestonesComplete": 0,
      "sessions": "7-10",
      "details": "Speed & Feed Calculator \u2014 first launch product."
    },
    "L8": {
      "name": "Products 2-4",
      "target": 7,
      "existing": 0,
      "status": "not_started",
      "milestones": 7,
      "milestonesComplete": 0,
      "sessions": "30-42",
      "details": "PPG, CAD/CAM Learning, ERP/Business, PASS2 Pages."
    },
    "L9": {
      "name": "CAD/CAM Kernel",
      "target": 3,
      "existing": 0,
      "status": "not_started",
      "milestones": 3,
      "milestonesComplete": 0,
      "sessions": "10-15",
      "details": "CAD Geometry Kernel + CAM Toolpath Algorithms + WebGL 3D Viewer."
    },
    "L10": {
      "name": "Enterprise & Production",
      "target": 4,
      "existing": 0,
      "status": "not_started",
      "milestones": 4,
      "milestonesComplete": 0,
      "sessions": "8-12",
      "details": "Security, CI/CD, monitoring, cross-cutting features."
    }
  },
  "phases": {
    "CC": {
      "name": "Knowledge Engine",
      "milestones": 12,
      "milestonesComplete": 0,
      "status": "not_started",
      "sessions": "35-40"
    },
    "CC-EXT": {
      "name": "Extended Learning",
      "milestones": 6,
      "milestonesComplete": 0,
      "status": "not_started",
      "sessions": "18-24"
    }
  },
  "verified": {
    "dispatchers": 32,
    "actions": 670,
    "engines": 75,
    "formulas": 109,
    "formulasTarget": 509,
    "algorithms": 17,
    "registryEntries": 29569,
    "registries": 14,
    "ccSkills": 57,
    "prismSkills": 96,
    "scripts": 48,
    "hooks": 112,
    "ccHooks": 18,
    "toolpathStrategies": 680,
    "tscErrors": 0,
    "testsPassing": 152,
    "testsTotal": 152,
    "omega": 1.0
  },
  "session": {
    "currentId": "1.A.2",
    "name": "Extract Machine Databases (7 core databases)",
    "status": "IN_PROGRESS",
    "nextAction": "Extract the 7 core machine databases from the monolith HTML file",
    "nextSession": {}
  },
  "extraction": {
    "progress": {},
    "completedExtractions": [
      {
        "category": "machines/CORE",
        "files": 8,
        "totalLines": 4489,
        "date": "2026-01-20"
      },
      {
        "category": "machines/ENHANCED",
        "manufacturers": 33,
        "machines": 310,
        "date": "2026-01-20"
      }
    ],
    "phaseProgress": {
      "1.A.1_Materials": "NEEDS_VERIFICATION",
      "1.A.2_Machines": "IN_PROGRESS - ENHANCED done, CORE not started",
      "1.A.3_Tools": "NOT_STARTED",
      "1.A.4_Workholding": "NOT_STARTED",
      "1.A.5_PostProcessors": "NOT_STARTED"
    },
    "indexes": {
      "machines_core": {
        "file": "SCRIPTS/extraction_index_machines_core.json",
        "moduleCount": 7,
        "status": "COMPLETE"
      }
    }
  },
  "paths": {
    "monolith": "extracted_modules/complete_extraction/",
    "extracted": "EXTRACTED/",
    "scripts": "SCRIPTS/",
    "dashboard": "docs/index.html",
    "stateFiles": {
      "currentState": "CURRENT_STATE.json",
      "masterInventory": "MASTER_INVENTORY.json",
      "sessionState": "SESSION_STATE.json",
      "projectIndex": "PROJECT_INDEX.json"
    }
  },
  "fileIndex": {
    "stateTracking": [
      {
        "file": "CURRENT_STATE.json",
        "purpose": "Layer architecture, verified counts, milestones"
      },
      {
        "file": "MASTER_INVENTORY.json",
        "purpose": "Full inventory with layer targets and session archives"
      },
      {
        "file": "SESSION_STATE.json",
        "purpose": "Current session details and clarifications"
      },
      {
        "file": "PROJECT_INDEX.json",
        "purpose": "Unified index (this file) \u2014 read this first"
      }
    ],
    "extractionTools": [
      {
        "file": "SCRIPTS/extract_module.py",
        "purpose": "Extract line ranges from monolith into modules"
      },
      {
        "file": "SCRIPTS/generate_extraction_index.py",
        "purpose": "Scan monolith for module boundaries"
      },
      {
        "file": "SCRIPTS/validate_extractions.py",
        "purpose": "Validate extracted modules against indexes"
      },
      {
        "file": "SCRIPTS/verify_features.py",
        "purpose": "Verify 85+ UI features exist in build"
      },
      {
        "file": "SCRIPTS/rebuild_project_index.py",
        "purpose": "Regenerate PROJECT_INDEX.json from sources"
      }
    ],
    "sessionTools": [
      {
        "file": "SCRIPTS/update_state.py",
        "purpose": "Quick state updates (complete, next, stats, blocker)"
      },
      {
        "file": "SCRIPTS/session_manager.py",
        "purpose": "Full session lifecycle management"
      },
      {
        "file": "SCRIPTS/context_generator.py",
        "purpose": "Generate minimal context for Claude sessions"
      }
    ],
    "cicd": [
      {
        "file": ".github/workflows/ci.yml",
        "purpose": "CI: lint, validate JSON, run tests"
      },
      {
        "file": ".github/workflows/deploy.yml",
        "purpose": "Deploy dashboard to GitHub Pages"
      },
      {
        "file": ".github/workflows/auto-index.yml",
        "purpose": "Auto-regenerate indexes on extraction changes"
      }
    ],
    "dashboard": [
      {
        "file": "docs/index.html",
        "purpose": "GitHub Pages status dashboard"
      }
    ],
    "templates": [
      {
        "file": "SCRIPTS/MODULE_TEMPLATE.js",
        "purpose": "Template for extracted modules"
      },
      {
        "file": "SCRIPTS/session_handoff_template.json",
        "purpose": "Template for session handoff docs"
      }
    ]
  },
  "codebaseMap": {
    "SCRIPTS/": "Python tools for extraction, validation, state management",
    "docs/": "GitHub Pages dashboard",
    "tests/": "Automated test suite",
    ".github/": "CI/CD pipelines and Dependabot config",
    ".claude-flow/": "Claude Flow daemon state and metrics",
    ".claude/": "Claude settings, hooks, helpers, skills"
  },
  "rules": [
    "IF IT EXISTS, USE IT EVERYWHERE - wire all DBs to consumers",
    "CARRY FORWARD - all existing code/data preserved",
    "VERIFY - check before AND after every change",
    "NO PARTIALS - complete extractions only",
    "UPDATE STATE - CURRENT_STATE.json every session"
  ],
  "sessionHistory": [
    "0.0.1 - Development Prompt",
    "0.EXT.1 - Living System First Session",
    "0.EXT.1b - Materials Database (archived)",
    "0.EXT.2 - Machines Database (started ENHANCED tier)",
    "0.EXT.2f.6 - ENHANCED Machine Expansion",
    "REORG.1 - Folder Reorganization",
    "1.A.2 \u2014 Extract Machine Databases (7 core databases) (CURRENT)"
  ],
  "milestones": {
    "unifiedDSL": {
      "name": "Unified DSL Command Router",
      "status": "PLANNED",
      "trigger": "When 3+ extraction indexes exist and SPARC workflows are active",
      "description": "Build a single CLI entry point (cli <command>) that routes to all tools: extraction scripts, session management, index queries, SPARC modes, CI workflows, and dashboard. Currently 5 separate command surfaces (npx, npm, python, bash helpers, MCP tools) with no unified interface. DSL maturity is 4/10 \u2014 hooks work but discovery and cohesion are missing.",
      "components": [
        "Command router (.claude/commands/dsl-router.sh or Python equivalent)",
        "PROJECT_INDEX.json query mode (--query progress/rules/session)",
        "SPARC mode invocation via CLI (cli sparc run <mode> <task>)",
        "Session management DSL (cli session start/end/status)",
        "Extraction DSL (cli extract/validate/index)",
        "CI workflow triggers (cli workflow run <name>)",
        "State-to-memory sync hook"
      ],
      "blockedBy": "Need more extraction indexes (1/8 exist), active SPARC usage, and more daemon workers running before router adds value",
      "estimatedPhase": "Phase 2+"
    }
  }
}