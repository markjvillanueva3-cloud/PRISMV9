{
  "version": "1.0",
  "description": "R2-MS3 Edge Case Test Matrix — 20 boundary conditions across 5 categories",
  "created": "2026-02-21",
  "categories": {
    "exotic_materials": "Materials at extremes of machinability spectrum",
    "extreme_parameters": "Values at or near SAFETY_LIMITS boundaries",
    "boundary_conditions": "Invalid/degenerate inputs that must be handled gracefully",
    "material_machine_mismatches": "Unusual but physically possible combinations",
    "multi_physics_coupling": "Cross-engine consistency checks"
  },
  "edge_cases": [
    {
      "id": "EC001",
      "name": "Titanium Ti-6Al-4V turning — high force ISO S",
      "category": "exotic_materials",
      "calc_type": "cutting_force",
      "operation": "turning",
      "material": { "name": "Ti-6Al-4V", "iso_group": "S" },
      "tool": { "diameter_mm": 12, "flutes": 1 },
      "params": {
        "Vc_mpm": 60,
        "f_mmrev": 0.2,
        "ap_mm": 2.0,
        "ae_mm": 12
      },
      "kienzle": { "kc1_1": 1400, "mc": 0.22 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 400, "max": 900 },
        "warnings_contain": [],
        "no_crash": true
      }
    },
    {
      "id": "EC002",
      "name": "Pure copper turning — very low forces, high conductivity",
      "category": "exotic_materials",
      "calc_type": "cutting_force",
      "operation": "turning",
      "material": { "name": "Pure Copper C11000", "iso_group": "N" },
      "tool": { "diameter_mm": 10, "flutes": 1 },
      "params": {
        "Vc_mpm": 200,
        "f_mmrev": 0.15,
        "ap_mm": 1.5,
        "ae_mm": 10
      },
      "kienzle": { "kc1_1": 800, "mc": 0.30 },
      "expected": {
        "behavior": "pass",
        "Fc_N": { "min": 100, "max": 500 },
        "no_crash": true
      }
    },
    {
      "id": "EC003",
      "name": "Hardened tool steel 60HRC milling — extreme kc1.1",
      "category": "exotic_materials",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI D2 Hardened 60HRC", "iso_group": "H" },
      "tool": { "diameter_mm": 10, "flutes": 4 },
      "params": {
        "Vc_mpm": 80,
        "fz_mm": 0.05,
        "ap_mm": 0.5,
        "ae_mm": 2.0
      },
      "kienzle": { "kc1_1": 4500, "mc": 0.20 },
      "expected": {
        "behavior": "pass",
        "Fc_N": { "min": 50, "max": 500 },
        "no_crash": true
      }
    },
    {
      "id": "EC004",
      "name": "Magnesium AZ31 milling — very low forces, fire risk material",
      "category": "exotic_materials",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "Magnesium AZ31B", "iso_group": "N" },
      "tool": { "diameter_mm": 20, "flutes": 3 },
      "params": {
        "Vc_mpm": 500,
        "fz_mm": 0.15,
        "ap_mm": 3.0,
        "ae_mm": 10.0
      },
      "kienzle": { "kc1_1": 350, "mc": 0.25 },
      "expected": {
        "behavior": "pass",
        "Fc_N": { "min": 50, "max": 400 },
        "power_kW": { "min": 0.1, "max": 5.0 },
        "no_crash": true
      }
    },
    {
      "id": "EC005",
      "name": "Near-minimum feed rate (0.001 mm/tooth) — boundary feed",
      "category": "extreme_parameters",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": 10, "flutes": 4 },
      "params": {
        "Vc_mpm": 150,
        "fz_mm": 0.001,
        "ap_mm": 2.0,
        "ae_mm": 5.0
      },
      "kienzle": { "kc1_1": 1800, "mc": 0.25 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 0.1, "max": 50 },
        "warnings_contain": ["KC_INFLATED"],
        "no_crash": true
      }
    },
    {
      "id": "EC006",
      "name": "Maximum cutting speed (2000 m/min) — HSM aluminum boundary",
      "category": "extreme_parameters",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "7075-T6 Aluminum", "iso_group": "N" },
      "tool": { "diameter_mm": 20, "flutes": 3 },
      "params": {
        "Vc_mpm": 2000,
        "fz_mm": 0.10,
        "ap_mm": 2.0,
        "ae_mm": 5.0
      },
      "kienzle": { "kc1_1": 700, "mc": 0.30 },
      "expected": {
        "behavior": "pass",
        "Fc_N": { "min": 10, "max": 300 },
        "no_crash": true
      }
    },
    {
      "id": "EC007",
      "name": "Maximum depth of cut (ap=100mm) — heavy roughing boundary",
      "category": "extreme_parameters",
      "calc_type": "cutting_force",
      "operation": "turning",
      "material": { "name": "AISI 4140 Annealed", "iso_group": "P" },
      "tool": { "diameter_mm": 25, "flutes": 1 },
      "params": {
        "Vc_mpm": 100,
        "f_mmrev": 0.3,
        "ap_mm": 100,
        "ae_mm": 25
      },
      "kienzle": { "kc1_1": 1500, "mc": 0.22 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 20000, "max": 100000 },
        "power_kW": { "min": 10, "max": 500 },
        "no_crash": true
      }
    },
    {
      "id": "EC008",
      "name": "Micro-machining (0.1mm tool, 0.01mm depth) — scaling test",
      "category": "extreme_parameters",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "Brass CuZn39Pb3", "iso_group": "N" },
      "tool": { "diameter_mm": 0.1, "flutes": 2 },
      "params": {
        "Vc_mpm": 30,
        "fz_mm": 0.002,
        "ap_mm": 0.01,
        "ae_mm": 0.05
      },
      "kienzle": { "kc1_1": 600, "mc": 0.28 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 0.001, "max": 1.0 },
        "no_crash": true
      }
    },
    {
      "id": "EC009",
      "name": "Zero cutting speed — must reject with SAFETY BLOCK",
      "category": "boundary_conditions",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": 10, "flutes": 4 },
      "params": {
        "Vc_mpm": 0,
        "fz_mm": 0.1,
        "ap_mm": 2.0,
        "ae_mm": 5.0
      },
      "kienzle": { "kc1_1": 1800, "mc": 0.25 },
      "expected": {
        "behavior": "reject",
        "error_contains": "SAFETY BLOCK",
        "no_crash": true
      }
    },
    {
      "id": "EC010",
      "name": "Negative feed per tooth — must reject with SAFETY BLOCK",
      "category": "boundary_conditions",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": 10, "flutes": 4 },
      "params": {
        "Vc_mpm": 150,
        "fz_mm": -0.1,
        "ap_mm": 2.0,
        "ae_mm": 5.0
      },
      "kienzle": { "kc1_1": 1800, "mc": 0.25 },
      "expected": {
        "behavior": "reject",
        "error_contains": "SAFETY BLOCK",
        "no_crash": true
      }
    },
    {
      "id": "EC011",
      "name": "NaN tool diameter — must reject with SAFETY BLOCK",
      "category": "boundary_conditions",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": null, "flutes": 4 },
      "params": {
        "Vc_mpm": 150,
        "fz_mm": 0.1,
        "ap_mm": 2.0,
        "ae_mm": 5.0,
        "D_mm": "NaN"
      },
      "kienzle": { "kc1_1": 1800, "mc": 0.25 },
      "expected": {
        "behavior": "reject",
        "error_contains": "SAFETY BLOCK",
        "no_crash": true
      }
    },
    {
      "id": "EC012",
      "name": "Radial depth exceeds tool diameter — should warn but not crash",
      "category": "boundary_conditions",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": 10, "flutes": 4 },
      "params": {
        "Vc_mpm": 150,
        "fz_mm": 0.1,
        "ap_mm": 2.0,
        "ae_mm": 15.0
      },
      "kienzle": { "kc1_1": 1800, "mc": 0.25 },
      "expected": {
        "behavior": "pass_with_warnings",
        "warnings_contain": ["Radial depth"],
        "Fc_N": { "min": 100, "max": 3000 },
        "no_crash": true
      }
    },
    {
      "id": "EC013",
      "name": "Aluminum at 10 m/min — abnormally slow for nonferrous",
      "category": "material_machine_mismatches",
      "calc_type": "tool_life",
      "operation": "milling",
      "material": { "name": "6061-T6 Aluminum", "iso_group": "N" },
      "params": {
        "Vc_mpm": 10,
        "feed": 0.1,
        "depth": 2.0
      },
      "taylor": { "C": 800, "n": 0.40 },
      "expected": {
        "behavior": "pass",
        "tool_life_min": { "min": 100, "max": 10000 },
        "no_crash": true
      }
    },
    {
      "id": "EC014",
      "name": "Hardened steel with 3mm micro-mill — high load on small tool",
      "category": "material_machine_mismatches",
      "calc_type": "deflection",
      "operation": "milling",
      "material": { "name": "AISI D2 60HRC", "iso_group": "H" },
      "params": {
        "cutting_force_N": 200,
        "tool_diameter_mm": 3,
        "overhang_mm": 30,
        "youngs_modulus_GPa": 600
      },
      "expected": {
        "behavior": "pass_with_warnings",
        "deflection_mm": { "min": 0.01, "max": 1.0 },
        "warnings_contain": ["L/D ratio"],
        "no_crash": true
      }
    },
    {
      "id": "EC015",
      "name": "Superalloy Inconel 718 at 300 m/min — dangerously fast",
      "category": "material_machine_mismatches",
      "calc_type": "tool_life",
      "operation": "turning",
      "material": { "name": "Inconel 718", "iso_group": "S" },
      "params": {
        "Vc_mpm": 300,
        "feed": 0.2,
        "depth": 2.0
      },
      "taylor": { "C": 40, "n": 0.18 },
      "expected": {
        "behavior": "pass_with_warnings",
        "tool_life_min": { "min": 0.1, "max": 1.0 },
        "warnings_contain": ["TAYLOR_CLIFF"],
        "no_crash": true
      }
    },
    {
      "id": "EC016",
      "name": "Cast iron full-slot milling with extreme feed 1.5 mm/tooth",
      "category": "material_machine_mismatches",
      "calc_type": "cutting_force",
      "operation": "milling",
      "material": { "name": "GG30 Gray Cast Iron", "iso_group": "K" },
      "tool": { "diameter_mm": 50, "flutes": 6 },
      "params": {
        "Vc_mpm": 120,
        "fz_mm": 1.5,
        "ap_mm": 5.0,
        "ae_mm": 49.5
      },
      "kienzle": { "kc1_1": 1100, "mc": 0.28 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 5000, "max": 80000 },
        "warnings_contain": ["FULL_SLOT"],
        "no_crash": true
      }
    },
    {
      "id": "EC017",
      "name": "Force → Deflection coupling — high Fc must cause high deflection",
      "category": "multi_physics_coupling",
      "calc_type": "force_then_deflection",
      "operation": "milling",
      "material": { "name": "AISI 4340", "iso_group": "P" },
      "tool": { "diameter_mm": 6, "flutes": 4 },
      "params": {
        "Vc_mpm": 100,
        "fz_mm": 0.08,
        "ap_mm": 12.0,
        "ae_mm": 3.0,
        "overhang_mm": 40
      },
      "kienzle": { "kc1_1": 2000, "mc": 0.25 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 300, "max": 3000 },
        "deflection_mm": { "min": 0.01, "max": 2.0 },
        "warnings_contain": ["L/D ratio"],
        "no_crash": true
      }
    },
    {
      "id": "EC018",
      "name": "High speed → Thermal → Tool life coupling — all must correlate",
      "category": "multi_physics_coupling",
      "calc_type": "speed_thermal_life",
      "operation": "turning",
      "material": { "name": "AISI 316L Stainless", "iso_group": "M" },
      "params": {
        "Vc_mpm": 250,
        "f_mmrev": 0.25,
        "ap_mm": 3.0,
        "thermal_conductivity": 15
      },
      "kienzle": { "kc1_1": 2100, "mc": 0.21 },
      "taylor": { "C": 150, "n": 0.22 },
      "expected": {
        "behavior": "pass",
        "tool_temp_C": { "min": 400, "max": 1200 },
        "tool_life_min": { "min": 0.1, "max": 30 },
        "no_crash": true
      }
    },
    {
      "id": "EC019",
      "name": "Stability at depth exceeding critical — must report unstable",
      "category": "multi_physics_coupling",
      "calc_type": "stability",
      "operation": "milling",
      "material": { "name": "AISI 1045", "iso_group": "P" },
      "tool": { "diameter_mm": 20, "flutes": 4 },
      "params": {
        "natural_frequency_Hz": 800,
        "damping_ratio": 0.03,
        "stiffness_Npm": 5e7,
        "kc_Nmm2": 2000,
        "current_depth_mm": 15.0,
        "current_speed_rpm": 6000
      },
      "expected": {
        "behavior": "pass",
        "is_stable": false,
        "critical_depth_mm": { "min": 0.1, "max": 5.0 },
        "no_crash": true
      }
    },
    {
      "id": "EC020",
      "name": "Force → Power exceeds 100kW — extreme power consumption check",
      "category": "multi_physics_coupling",
      "calc_type": "cutting_force",
      "operation": "turning",
      "material": { "name": "Inconel 718", "iso_group": "S" },
      "tool": { "diameter_mm": 25, "flutes": 1 },
      "params": {
        "Vc_mpm": 80,
        "f_mmrev": 0.4,
        "ap_mm": 20.0,
        "ae_mm": 25
      },
      "kienzle": { "kc1_1": 3980, "mc": 0.25 },
      "expected": {
        "behavior": "pass_with_warnings",
        "Fc_N": { "min": 10000, "max": 100000 },
        "power_kW": { "min": 10, "max": 500 },
        "no_crash": true
      }
    }
  ]
}
