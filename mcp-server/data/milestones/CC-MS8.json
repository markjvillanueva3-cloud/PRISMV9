{
  "id": "CC-MS8",
  "version": "3.1.0",
  "title": "Cross-Platform Operation Mapping",
  "brief": "platform_map.json; CAD feature + CAM strategy equivalencies across P0 platforms; auto-mapper >85% accuracy.",
  "created_at": "2026-02-26T20:14:19Z",
  "created_by": "claude-opus-4.6",
  "phases": [
    {
      "id": "P0",
      "title": "Cross-Platform Operation Mapping",
      "description": "Design cross-platform equivalency schema for CAD ops and CAM ops, build initial mapping table for P0 platforms, build mapping query API and auto-mapper for extraction pipeline.",
      "sessions": 1,
      "primary_role": "R3",
      "primary_model": "opus-4.6",
      "implementation_model": "haiku-4.5",
      "execution_split": "MCP 60% / CC 40%",
      "units": [
        {
          "id": "P0-U01",
          "title": "Cross-Platform Operation Mapping",
          "phase": "P0",
          "sequence": 0,
          "role": "R3",
          "role_name": "Knowledge Engineer",
          "model": "opus-4.6",
          "bulk_model": "haiku-4.5",
          "effort": 80,
          "tools": [
            { "tool": "prism_intelligence" },
            { "tool": "prism_knowledge", "action": "cross_query" },
            { "tool": "prism_data" }
          ],
          "skills": [],
          "scripts": [],
          "hooks": [],
          "features": [],
          "dependencies": ["CC-MS2", "CC-MS5"],
          "entry_conditions": [
            "CC-MS2 complete (extraction engine produces domain knowledge)",
            "CC-MS5 complete (CAM strategy DB populated)"
          ],
          "exit_conditions": [
            "P0 platforms mapped for CAD features: extrude/pad/boss equivalencies across SolidWorks, Fusion 360, AutoCAD (25+ feature types)",
            "P0 platforms mapped for CAM strategies: Dynamic Mill/Adaptive Clearing/Trochoidal equivalencies across Mastercam, Fusion CAM, SW CAM",
            "CAM roughing, finishing, drilling cycles, and turning ops mapped",
            "Auto-mapper achieves >85% accuracy on test set",
            "Build passes",
            "Tests pass"
          ],
          "rollback": "git checkout -- cad-engine/src/platform_mapper.py cad-engine/data/platform_maps/",
          "steps": [
            {
              "number": 1,
              "instruction": "Design cross-platform equivalency schema (Opus): CAD operations (extrude/pad/boss, revolve/turn, sweep/loft, fillet/round, chamfer/break, hole/drill, pattern/repeat, mirror/symmetry -- 25+ types) AND CAM operations (Dynamic Mill/Adaptive Clearing/Trochoidal, High Speed Machining equivalents, drilling cycles, turning operations)"
            },
            {
              "number": 2,
              "instruction": "Build initial mapping table for P0 platforms (Haiku bulk processing): CAD features across SolidWorks/Fusion 360/AutoCAD, CAM roughing strategies across Mastercam/Fusion CAM/SW CAM, CAM finishing strategies, drilling cycles, turning operations"
            },
            {
              "number": 3,
              "instruction": "Build mapping query API + auto-mapper for extraction pipeline: given platform-specific term -> resolve to canonical operation -> map to target platform equivalent. Integrate into knowledge_extract.py for automatic normalization"
            }
          ],
          "deliverables": [
            "cad-engine/src/platform_mapper.py",
            "cad-engine/data/platform_maps/cad_features.json",
            "cad-engine/data/platform_maps/cam_strategies.json",
            "cad-engine/data/platform_maps/drilling_cycles.json",
            "cad-engine/data/platform_maps/turning_ops.json",
            "cad-engine/tests/test_platform_mapper.py"
          ],
          "index_in_master": false,
          "creates_skill": false,
          "creates_script": false,
          "creates_hook": false,
          "creates_command": false
        }
      ],
      "gate": {
        "omega_floor": 0.75,
        "safety_floor": 0.70,
        "ralph_required": false,
        "ralph_grade_floor": "B",
        "anti_regression": true,
        "test_required": true,
        "build_required": true,
        "checkpoint": true,
        "learning_save": true,
        "custom_checks": [
          "25+ CAD feature types mapped across P0 platforms",
          "CAM strategies mapped across P0 platforms",
          "Auto-mapper >85% accuracy"
        ]
      },
      "scrutiny_checkpoint": false,
      "scrutiny_focus": []
    }
  ],
  "total_units": 1,
  "total_sessions": 1,
  "role_matrix": [
    {
      "code": "R3",
      "name": "Knowledge Engineer",
      "model": "opus-4.6",
      "bulk_model": "haiku-4.5",
      "effort": 80
    }
  ],
  "tool_map": [
    { "tool": "prism_intelligence", "phases": ["P0"] },
    { "tool": "prism_knowledge", "phases": ["P0"] },
    { "tool": "prism_data", "phases": ["P0"] }
  ],
  "deliverables_index": [
    "cad-engine/src/platform_mapper.py",
    "cad-engine/data/platform_maps/"
  ],
  "existing_leverage": [
    "prism_knowledge cross_query (existing knowledge graph)",
    "prism_data tool/material lookups"
  ],
  "scrutiny_config": {
    "pass_mode": "adaptive",
    "min_passes": 3,
    "max_passes": 7,
    "convergence_rule": "delta < 2",
    "escalation_rule": "if pass 4+ finds CRITICAL, flag for human review",
    "scrutinizer_model": "opus-4.6",
    "scrutinizer_effort": 90,
    "gap_categories": [
      "missing_tools",
      "missing_deps",
      "missing_exit_conditions",
      "missing_rollback",
      "sequence_errors"
    ],
    "improvement_threshold": 0.92
  }
}
