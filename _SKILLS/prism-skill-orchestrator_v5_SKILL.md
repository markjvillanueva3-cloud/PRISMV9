---
name: prism-skill-orchestrator
description: |
  Master integration skill defining how all 37 PRISM skills and 56 API agents
  work together. Establishes priority hierarchy, unified checklists, loading order,
  conflict resolution, and API swarm delegation. ENFORCES auto-activation of
  critical mindset skills. Version 5.0 adds 56 API agents and intelligence category.
---

# PRISM Skill Orchestrator v5.0
## Complete Integration: 37 Skills + 56 API Agents + Learning Pipeline
### Updated: 2026-01-25

---

# MASTER RESOURCE INVENTORY

## Always-On Skills (/mnt/project/) - LEVEL 0-1

| Skill | Level | Purpose | Status |
|-------|-------|---------|--------|
| prism-life-safety-mindset | 0 | Thoroughness saves lives | ✅ ACTIVE |
| prism-maximum-completeness | 0 | 100% theoretical/math/statistical | ✅ ACTIVE |
| regression_skill_v2 | 0 | Anti-regression protection | ✅ ACTIVE |
| prism-predictive-thinking | 1 | Think N steps ahead | ✅ ACTIVE |
| prism-skill-orchestrator | 1 | Integration (THIS) | ✅ ACTIVE |

## SP.1 Core Development Workflow (8 skills)

| Skill | Size | Trigger | API Agents |
|-------|------|---------|------------|
| prism-sp-brainstorm | 45KB | "design", "plan", "new task" | architect, researcher, domain_expert |
| prism-sp-planning | 165KB | "create tasks", "break down" | coordinator, task_decomposer |
| prism-sp-execution | 87KB | "execute", "implement", "build" | coder, extractor |
| prism-sp-review-spec | 60KB | "check spec", "verify output" | validator, completeness_auditor |
| prism-sp-review-quality | 96KB | "code review", "quality check" | code_reviewer, security_auditor |
| prism-sp-debugging | 109KB | "debug", "error", "fix" | debugger, root_cause_analyst, call_tracer |
| prism-sp-verification | 81KB | "verify", "prove", "evidence" | validator, verification_chain |
| prism-sp-handoff | 77KB | "session end", "handoff" | documentation_writer, session_continuity |

## SP.2 Monolith Navigation (4 skills)

| Skill | Size | Trigger | API Agents |
|-------|------|---------|------------|
| prism-monolith-index | 74KB | "find module", "line number" | monolith_navigator |
| prism-monolith-extractor | 75KB | "extract", "pull out" | extractor, dependency_analyzer |
| prism-monolith-navigator | 50KB | "navigate", "search monolith" | monolith_navigator, pattern_matcher |
| prism-codebase-packaging | 35KB | "pack codebase", "repomix" | monolith_navigator, analyst |

## SP.3 Materials System (5 skills)

| Skill | Size | Trigger | API Agents |
|-------|------|---------|------------|
| prism-material-schema | 53KB | "127 parameters", "material structure" | schema_designer, materials_scientist |
| prism-material-physics | 68KB | "Kienzle", "Taylor", "Johnson-Cook" | physics_validator, uncertainty_quantifier |
| prism-material-lookup | 39KB | "find material", "lookup" | material_lookup |
| prism-material-validator | 47KB | "validate material", "check coverage" | validator, cross_referencer |
| prism-material-enhancer | 37KB | "enhance", "fill gaps", "estimate" | estimator, materials_scientist |

## SP.4-10 Master Skills (7 consolidations)

| Skill | Size | Consolidates | API Agents |
|-------|------|--------------|------------|
| prism-session-master | 43KB | state-manager, context-pressure, context-dna, session-handoff, quick-start | session_continuity, state_manager |
| prism-quality-master | 55KB | validator, verification, quality-gates, tdd, review | quality_gate, verification_chain |
| prism-code-master | 48KB | coding-patterns, algorithm-selector, dependency-graph | coder, code_reviewer, refactorer |
| prism-knowledge-master | 42KB | knowledge-base, error-recovery | formula_lookup, standards_expert |
| prism-expert-master | 65KB | 10 expert roles consolidated | domain_expert, synthesizer |
| prism-controller-quick-ref | 38KB | fanuc, siemens, heidenhain reference | gcode_expert, machine_specialist |
| prism-dev-utilities | 35KB | large-file-writer, unit-converter, tool-selector | optimizer, documentation_writer |

## Quality Enhancement Skills (2)

| Skill | Size | Trigger | API Agents |
|-------|------|---------|------------|
| prism-tdd-enhanced | 52KB | "test", "tdd", "unittest" | test_generator, coder |
| prism-root-cause-tracing | 48KB | "root cause", "trace", "5-why" | root_cause_analyst, call_tracer |

## Level 3: Reference Skills (10)

```
prism-api-contracts (186KB)      prism-error-catalog (123KB)
prism-manufacturing-tables       prism-wiring-templates
prism-product-calculators        prism-post-processor-reference
prism-fanuc-programming          prism-siemens-programming
prism-heidenhain-programming     prism-gcode-reference
```

---

# 56 API AGENTS

## By Model Tier

### OPUS (15 agents) - Complex Reasoning ($75/1M out)
```
architect, coordinator, materials_scientist, machinist, physics_validator,
domain_expert, migration_specialist, synthesizer, debugger, root_cause_analyst,
task_decomposer, learning_extractor, verification_chain, uncertainty_quantifier,
knowledge_graph_builder, meta_analyst, call_tracer
```

### SONNET (32 agents) - Balanced Tasks ($15/1M out)
```
extractor, validator, merger, coder, analyst, researcher, tool_engineer,
cam_specialist, quality_engineer, process_engineer, machine_specialist,
gcode_expert, monolith_navigator, schema_designer, api_designer,
completeness_auditor, regression_checker, test_generator, code_reviewer,
optimizer, refactorer, security_auditor, documentation_writer,
thermal_calculator, force_calculator, estimator, context_builder,
cross_referencer, pattern_matcher, quality_gate, session_continuity,
dependency_analyzer
```

### HAIKU (9 agents) - Fast Lookups ($1.25/1M out)
```
state_manager, cutting_calculator, surface_calculator, standards_expert,
formula_lookup, material_lookup, tool_lookup
```

## By Category

| Category | Count | Agents |
|----------|-------|--------|
| CORE | 8 | extractor, validator, merger, coder, analyst, researcher, architect, coordinator |
| MANUFACTURING | 10 | materials_scientist, machinist, tool_engineer, physics_validator, cam_specialist, quality_engineer, process_engineer, machine_specialist, gcode_expert, domain_expert |
| PRISM | 8 | monolith_navigator, migration_specialist, schema_designer, api_designer, completeness_auditor, regression_checker, state_manager, synthesizer |
| QUALITY | 6 | test_generator, code_reviewer, optimizer, refactorer, security_auditor, documentation_writer |
| CALCULATORS | 4 | cutting_calculator, thermal_calculator, force_calculator, surface_calculator |
| LOOKUP | 4 | standards_expert, formula_lookup, material_lookup, tool_lookup |
| SPECIALIZED | 4 | debugger, root_cause_analyst, task_decomposer, estimator |
| INTELLIGENCE | 12 | context_builder, learning_extractor, verification_chain, uncertainty_quantifier, cross_referencer, knowledge_graph_builder, pattern_matcher, quality_gate, session_continuity, meta_analyst, dependency_analyzer, call_tracer |

---

# THE UNIFIED HIERARCHY

```
LEVEL 0: ABSOLUTE LAWS (Never Override) - ALWAYS ACTIVE
├── Life-Safety Mindset: Thoroughness saves lives
├── Maximum Completeness: 100% theoretical/mathematical/statistical
├── Anti-Regression: Never lose content in replacements
└── The 10 Commandments: IF IT EXISTS, USE IT EVERYWHERE

LEVEL 1: THINKING PATTERNS (Always Apply) - ALWAYS ACTIVE
├── Predictive Thinking: Think ahead, prevent, prepare
└── Skill Orchestrator: Integration (THIS)

LEVEL 2: SUPERPOWERS WORKFLOW (Execution Order)
└── BRAINSTORM → PLANNING → EXECUTION → REVIEW-SPEC → REVIEW-QUALITY → HANDOFF
         ↑                                     ↓
         └────────────── DEBUGGING ←────────── (if errors)

LEVEL 3: API DELEGATION DECISION
├── Simple task? → Handle in Desktop App
└── Complex/Parallel? → Delegate to API Swarm

LEVEL 4: QUALITY GATES + VERIFICATION CHAINS
├── quality_gate agent: Block incomplete work
├── verification_chain agent: 4-level validation
└── regression_checker agent: Prevent data loss

LEVEL 5: CONTINUOUS LEARNING
├── learning_extractor: After every task
├── pattern_matcher: Find similar work
└── knowledge_graph_builder: Connect concepts

RULE: Higher levels ALWAYS override lower levels.
PRIORITY: SAFE → COMPLETE → NO-REGRESSION → VERIFIED → LEARNED
```

---

# API DELEGATION DECISION

## Do It Myself (Desktop App):
- Simple lookups and reads
- Single file edits
- User interaction
- Reading/summarizing
- Coordination

## Delegate to API Swarm:
- Parallel extraction (5+ items)
- Manufacturing analysis
- Complex debugging
- Multi-expert opinions
- Ralph-style iteration
- Heavy computation (100+ items)

## Quick Commands:
```powershell
# Intelligent (auto-everything)
python prism_unified_system_v4.py --intelligent "Your task"

# Manufacturing with verification
python prism_unified_system_v4.py --manufacturing "Material" "Operation"

# Ralph loop (iterate until done)
python prism_unified_system_v4.py --ralph agent_role "Prompt" max_iterations

# List all agents
python prism_unified_system_v4.py --list
```

---

# TASK-SPECIFIC SKILL + AGENT LOADING

| Task | Skills | API Agents | Tier |
|------|--------|------------|------|
| **Session Start** | prism-session-master | session_continuity, context_builder | SONNET |
| **New Feature** | prism-sp-brainstorm, prism-sp-planning | architect, researcher, task_decomposer | OPUS |
| **Execution** | prism-sp-execution | coder, extractor | SONNET |
| **Materials Work** | prism-material-schema, prism-material-physics | materials_scientist, physics_validator, uncertainty_quantifier | OPUS |
| **Extraction** | prism-monolith-extractor | extractor, dependency_analyzer, regression_checker | SONNET |
| **Code Writing** | prism-code-master | coder, code_reviewer | SONNET |
| **Review** | prism-sp-review-spec, prism-sp-review-quality | validator, quality_gate, verification_chain | SONNET |
| **Debugging** | prism-sp-debugging, prism-root-cause-tracing | debugger, root_cause_analyst, call_tracer | OPUS |
| **Session End** | prism-sp-handoff | documentation_writer, learning_extractor | SONNET |
| **Any Replacement** | regression_skill_v2 | regression_checker, quality_gate | SONNET |

---

# SESSION CHECKLISTS

## Start
```
□ Read CURRENT_STATE.json
□ Check IN_PROGRESS? → Resume, don't restart
□ Always-on skills auto-active (Level 0-1)
□ Load phase-appropriate skills
□ Decide: Handle myself OR delegate to API?
□ Buffer counter = 0
```

## Pre-Task (4 Laws Check)
```
□ SAFETY: What physical outcome depends on correctness?
□ COMPLETENESS: What is 100% for this task?
□ REGRESSION: Am I replacing something? → Inventory first
□ PREDICTION: 3 most likely failure modes?
```

## Checkpoint (Yellow Buffer 9-14 calls)
```
□ Tasks completed: X of Y
□ Evidence: file listings, content samples
□ CURRENT_STATE.json updated
□ quickResume written
```

## End
```
□ CURRENT_STATE.json fully updated
□ quickResume with DOING/STOPPED/NEXT
□ Learning extracted to _LEARNING/
□ No partial implementations
```

---

# VERIFICATION CHAINS (4 Levels)

| Level | Type | Agent | Required For |
|-------|------|-------|--------------|
| L1 | Self-Check | Original agent | All outputs |
| L2 | Peer Review | Different agent, same domain | Important outputs |
| L3 | Cross-Domain | Physics + empirical sources | Calculations |
| L4 | Historical | Known good results | Safety-critical |

**Minimum 95% confidence required on safety-critical items.**

---

# KEY PATHS

```
State:       C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\CURRENT_STATE.json
Skills:      C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\_SKILLS\
Scripts:     C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\_SCRIPTS\
API Results: C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\API_RESULTS\
Learning:    C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\_LEARNING\
Knowledge:   C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\_KNOWLEDGE\
Monolith:    C:\PRISM REBUILD (UPLOAD TO BOX OCCASSIONALLY)\_BUILD\PRISM_v8_89_002...\
Always-On:   /mnt/project/prism-*-mindset*.md, regression_skill*.md
```

---

# CONFLICT RESOLUTION

| Conflict | Winner |
|----------|--------|
| Speed vs Safety | **Safety** |
| Innovation vs Completeness | **Both** (innovate, then 100%) |
| Buffer vs Quality | **Quality** (checkpoint, resume) |
| Domain vs Mindset | **Mindset** |
| Old vs New skill | **Newer version** |
| Desktop vs API | **API for parallel/complex** |

---

**Version 5.0 | 37 Skills + 56 Agents + Learning Pipeline | Zero Oversights**
