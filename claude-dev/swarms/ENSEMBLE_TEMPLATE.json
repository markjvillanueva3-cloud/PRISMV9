{
  "template_id": "SWARM-ENSEMBLE-001",
  "pattern": "EXPERT_ENSEMBLE",
  "description": "Domain experts collaborate, each contributing their specialty. Best for multi-faceted problems requiring diverse expertise or cross-functional analysis.",
  "version": "1.0.0",
  "created": "2025-02-04",
  
  "when_to_use": [
    "Problems spanning multiple domains",
    "Cross-functional team simulation",
    "Comprehensive analysis requiring diverse perspectives",
    "Complex system design"
  ],
  
  "config": {
    "min_experts": 2,
    "max_experts": 8,
    "timeout_ms": 60000,
    "collaboration_mode": "parallel_then_synthesize",
    "synthesis_agent": "OPUS"
  },
  
  "agent_selection": {
    "strategy": "expertise_coverage",
    "require_different_domains": true,
    "synthesizer_required": true
  },
  
  "input_schema": {
    "type": "object",
    "required": ["problem", "expert_domains"],
    "properties": {
      "problem": {"type": "object"},
      "expert_domains": {
        "type": "array",
        "items": {
          "domain": {"type": "string"},
          "focus_areas": {"type": "array"},
          "questions": {"type": "array"}
        }
      },
      "synthesis_criteria": {"type": "array"}
    }
  },
  
  "output_schema": {
    "type": "object",
    "properties": {
      "expert_analyses": {
        "type": "array",
        "items": {
          "domain": {"type": "string"},
          "agent_id": {"type": "string"},
          "findings": {"type": "object"},
          "recommendations": {"type": "array"},
          "confidence": {"type": "number"}
        }
      },
      "synthesized_result": {
        "summary": {"type": "string"},
        "integrated_recommendations": {"type": "array"},
        "conflicts_resolved": {"type": "array"},
        "confidence": {"type": "number"}
      },
      "synthesizer_agent": {"type": "string"}
    }
  },
  
  "mcp_tool": "prism:swarm_execute",
  "mcp_pattern_param": "ensemble",
  
  "example_usage": {
    "name": "machining_optimization_ensemble",
    "input": {
      "problem": {
        "part": "aerospace_bracket",
        "material": "Ti-6Al-4V",
        "requirements": {"tolerance": "0.01mm", "surface": "Ra 0.8", "cycle_time": "<30min"}
      },
      "expert_domains": [
        {"domain": "materials", "focus_areas": ["machinability", "thermal"], "questions": ["optimal temps?"]},
        {"domain": "tooling", "focus_areas": ["tool selection", "wear"], "questions": ["best insert?"]},
        {"domain": "dynamics", "focus_areas": ["chatter", "stability"], "questions": ["stable speeds?"]}
      ]
    }
  },
  
  "hooks_triggered": ["EXPERT-START-001", "DOMAIN-ANALYSIS-001", "SYNTHESIS-001"],
  
  "performance_notes": {
    "optimal_experts": "3-5 domain experts",
    "synthesis_critical": "OPUS synthesizer is key - allocate most budget here",
    "conflict_resolution": "Experts may disagree - synthesizer must resolve"
  }
}
