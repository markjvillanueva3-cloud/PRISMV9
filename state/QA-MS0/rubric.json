{
  "id": "QA-RUBRIC-v1",
  "version": "1.0.0",
  "created_at": "2026-02-27T12:00:00Z",
  "created_by": "claude-opus-4.6",
  "description": "QA Audit Scoring Rubric — 4-dimension framework for evaluating PRISM system components",

  "dimensions": {
    "correctness": {
      "weight": 0.35,
      "description": "Mathematical/logical accuracy of implementations vs specifications",
      "scoring": {
        "5": "Formula matches reference exactly, all edge cases handled, unit conversions correct",
        "4": "Formula correct, minor edge cases missing, units correct",
        "3": "Formula mostly correct, some parameter validation gaps",
        "2": "Formula has errors or missing terms, significant edge case gaps",
        "1": "Fundamental errors in formula or logic, incorrect results",
        "0": "Not implemented or completely broken"
      },
      "checks": [
        "Formula matches theoretical reference",
        "Unit conversions verified (metric/imperial)",
        "Edge cases at boundaries handled",
        "Numeric stability (no NaN, Infinity, divide-by-zero)",
        "Parameter range validation",
        "Output within physically plausible bounds"
      ]
    },
    "completeness": {
      "weight": 0.25,
      "description": "Coverage of declared functionality — actions wired, methods implemented, features accessible",
      "scoring": {
        "5": "100% of declared actions/methods implemented and wired, all documented features accessible",
        "4": "90-99% coverage, minor gaps are intentional placeholders",
        "3": "75-89% coverage, some unwired actions or stub methods",
        "2": "50-74% coverage, significant wiring gaps",
        "1": "25-49% coverage, most actions are stubs or unwired",
        "0": "<25% coverage, component is mostly placeholder"
      },
      "checks": [
        "Dispatcher actions map to engine methods",
        "Engine methods accessible via at least one action",
        "Algorithm registry matches file inventory",
        "Hook registrations match hook files",
        "Documentation counts match code reality",
        "Registry data entries have required fields"
      ]
    },
    "safety": {
      "weight": 0.25,
      "description": "Safety mechanisms, validation guards, and protective measures",
      "scoring": {
        "5": "All safety checks present, hard blocks enforced, factor ordering correct, emergency paths traced",
        "4": "Safety checks present, minor gap in edge case coverage",
        "3": "Core safety checks present, some missing validation paths",
        "2": "Safety checks partially implemented, bypass paths exist",
        "1": "Minimal safety checks, critical paths unprotected",
        "0": "No safety mechanisms"
      },
      "checks": [
        "S(x) scoring enforced with hard block <0.70",
        "Safety factors applied AFTER uncertainty propagation",
        "Emergency stop paths complete with no bypass",
        "AtomicValue wrapping on numeric outputs",
        "Lambda/Phi validation in proxy layer",
        "Input sanitization and bounds checking",
        "Error handling prevents silent failures"
      ]
    },
    "performance": {
      "weight": 0.15,
      "description": "Efficiency, caching, resource usage, and scalability",
      "scoring": {
        "5": "Optimal algorithms, effective caching, minimal memory footprint, no bottlenecks",
        "4": "Good performance, caching present, minor optimization opportunities",
        "3": "Acceptable performance, some caching, no critical bottlenecks",
        "2": "Performance issues, missing caching, noticeable delays",
        "1": "Significant performance problems, excessive resource usage",
        "0": "Unusable performance, timeouts, or memory exhaustion"
      },
      "checks": [
        "Registry loader uses TTL caching",
        "Large data structures loaded lazily",
        "No O(n²) or worse in hot paths",
        "File I/O uses atomic writes where needed",
        "Build output size reasonable (no regression)",
        "No synchronous blocking on async operations"
      ]
    }
  },

  "severity_levels": {
    "CRITICAL": {
      "threshold": "score < 2 in correctness OR safety",
      "description": "Fundamentally broken or unsafe — blocks production use",
      "action": "Must fix before any other work proceeds",
      "remediation_priority": "P0"
    },
    "MAJOR": {
      "threshold": "score < 3 in any dimension OR completeness < 50%",
      "description": "Significant gap that degrades system quality",
      "action": "Fix within current QA cycle",
      "remediation_priority": "P1"
    },
    "MINOR": {
      "threshold": "score 3-4 with identified improvement opportunity",
      "description": "Room for improvement, not blocking",
      "action": "Add to enhancement backlog",
      "remediation_priority": "P2"
    },
    "INFO": {
      "threshold": "score >= 4 with optional polish opportunity",
      "description": "Observation or documentation note",
      "action": "Record for future reference",
      "remediation_priority": "P3"
    }
  },

  "pass_fail_thresholds": {
    "component_pass": {
      "correctness": ">= 3",
      "completeness": ">= 3",
      "safety": ">= 3",
      "performance": ">= 2"
    },
    "system_pass": {
      "weighted_average": ">= 3.0",
      "no_critical_findings": true,
      "safety_floor": ">= 3 for all safety-critical components"
    }
  },

  "composite_score_formula": "Ω_QA = 0.35*correctness + 0.25*completeness + 0.25*safety + 0.15*performance",

  "gap_category_mapping": {
    "correctness_gaps": ["underspecified_steps", "missing_tests"],
    "completeness_gaps": ["missing_tools", "missing_deps", "orphaned_deliverables", "missing_skills"],
    "safety_gaps": ["missing_rollback", "missing_exit_conditions"],
    "performance_gaps": ["effort_mismatch", "sequence_errors"],
    "cross_cutting": ["role_mismatch", "missing_indexing"]
  },

  "audit_procedure": {
    "per_component": [
      "1. Read source code for the component under audit",
      "2. Score each dimension (0-5) with evidence/citations",
      "3. Identify findings with severity classification",
      "4. Map findings to gap categories",
      "5. Calculate composite score",
      "6. Determine pass/fail status",
      "7. Produce recommendations with effort estimates"
    ],
    "per_milestone": [
      "1. Complete all unit audits",
      "2. Aggregate scores across units",
      "3. Identify systemic patterns",
      "4. Calculate milestone-level composite score",
      "5. Gate check against pass/fail thresholds",
      "6. Document in milestone audit summary"
    ]
  }
}
