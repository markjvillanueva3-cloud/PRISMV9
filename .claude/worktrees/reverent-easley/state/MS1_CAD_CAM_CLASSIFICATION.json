{
  "scan_date": "2026-02-23",
  "total_files": 59,
  "source_directories": [
    "C:/PRISM/extracted/engines/cad_cam/ (55 files)",
    "C:/PRISM/extracted/engines/cad_complete/ (4 files)"
  ],
  "subcategory_distribution": {
    "geometry": 22,
    "toolpath": 15,
    "feature_recognition": 6,
    "cam_operations": 7,
    "visualization": 2,
    "analysis": 7
  },
  "files": [
    {
      "name": "PRISM_ADAPTIVE_CLEARING_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 437,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Adaptive clearing toolpath with engagement angle calculation, trochoidal milling, and HSM-style adaptive strategies. Calculates radial engagement and adjusts feeds accordingly.",
      "key_functions": ["engagement.calculate", "generateAdaptivePath", "trochoidalPattern"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ADAPTIVE_TESSELLATION_ENGINE_V2.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 218,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Adaptive tessellation engine with quality presets (draft, standard, high, ultra, step_equivalent). Controls chord tolerance, angle tolerance, and segment counts for mesh generation from curves/surfaces.",
      "key_functions": ["tessellate", "presets.draft", "presets.standard", "presets.high", "presets.ultra"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ADVANCED_BLADE_SURFACE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 484,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Generates blade/airfoil surfaces as proper NURBS through airfoil sections. Handles pressure/suction surfaces, span interpolation, G2 continuity, and rational NURBS weights for turbomachinery applications.",
      "key_functions": ["generateBladeSurface", "_normalizeSectionPointCount", "_buildControlPointGrid", "_generateChordKnots", "_calculateAirfoilWeights"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ADVANCED_SWEEP_LOFT_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 511,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Advanced sweep and loft operations including extrude (with taper, thin-wall), revolve, sweep along path, and loft between sections with guide rails and transitions. Fusion 360-style operations.",
      "key_functions": ["extrude", "revolve", "sweep", "loft"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_BREP_CAD_GENERATOR_V2.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 1293,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Core B-Rep CAD generator with topology data structures (vertex/edge/face/shell/solid). Includes entity ID management, assembly support, boolean operations, and entity storage/export. The primary BREP kernel.",
      "key_functions": ["topology.nextId", "topology.reset", "topology.store", "topology.get", "topology.exportAll"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_BREP_TESSELLATOR.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 724,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Tessellates B-Rep solids into triangle meshes. Reads STEP ADVANCED_FACE entities and converts them to vertices, normals, and triangles with per-face mapping. Based on MIT 18.433 Computational Geometry.",
      "key_functions": ["tessellateBrep", "tessellateFace"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_BSPLINE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 207,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Core B-spline evaluation: knot span finding via binary search, Cox-de Boor basis function computation. Foundational math library for NURBS operations.",
      "key_functions": ["findKnotSpan", "basisFunctions"],
      "potential_duplicate": "PRISM_CAD_KERNEL_MIT.js (overlapping deBoor/knot span functionality)"
    },
    {
      "name": "PRISM_BVH_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 6562,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "MEGA COMPOSITE FILE. Contains: (1) BVH/AABB spatial data structure for collision detection, (2) PRISM_COLLISION_ENGINE integration, (3) Johnson-Cook material database aliases, (4) Thermal properties database, (5) Complete fixture/vise database (Kurt, Schunk, etc.) with clamping force calculations. Needs decomposition.",
      "key_functions": ["AABB.create", "AABB.fromPoints", "checkCollisionsBVH", "recommendVise", "recommendFixture", "calculateMinClampingForce"],
      "potential_duplicate": null,
      "notes": "COMPOSITE - should be split into BVH, collision, fixture subsystems during integration"
    },
    {
      "name": "PRISM_CAD_CAM_INTEGRATION_HUB.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 567,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Central hub connecting all CAD/CAM data sources to PRISM. Registers external data sources (HSMWorks 2026, Mastercam Multiaxis, Mastercam 3D, Okuma, Siemens NX) with their capabilities, databases, and selectors.",
      "key_functions": ["registeredSources.hsmworks2026", "registeredSources.mastercamMultiaxis", "registeredSources.mastercam3D"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CAD_CONFIDENCE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 199,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Confidence scoring system for CAD generation quality. Scores dimensions (clear_digital=100 to missing=0), features (complete/partial/inferred/ambiguous), and correlations (verified/single_view/inferred). Grades A-F with color coding.",
      "key_functions": ["scores.dimension", "scores.feature", "scores.correlation", "scores.grades"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CAD_KERNEL_MIT.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 286,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "CAD kernel with NURBS/B-Spline algorithms from MIT 2.158J. Implements De Boor evaluation, knot span finding. Foundational spline math library.",
      "key_functions": ["deBoorEvaluate", "_findKnotSpan"],
      "potential_duplicate": "PRISM_BSPLINE_ENGINE.js (overlapping B-spline basis functions)"
    },
    {
      "name": "PRISM_CAD_MATH.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 157,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Core 3D math library: vec3 operations (add, sub, scale, dot, cross, normalize, lerp, distance, midpoint), matrix operations, and tolerance constants. Foundation utility used by all CAD engines.",
      "key_functions": ["vec3.create", "vec3.add", "vec3.sub", "vec3.cross", "vec3.normalize", "vec3.dot", "vec3.distance"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CAD_QUALITY_ASSURANCE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 335,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Quality validation for generated CAD models. Checks topology, mesh density, chord error, angle deviation, and STEP equivalence. Reports pass/fail with scores, issues, and recommendations.",
      "key_functions": ["validate", "_validateTopology"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CAM_KERNEL_COMPLETE.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 1237,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Comprehensive CAM kernel with toolpath strategy parameters (roughing/semi-finish/finishing/HSM). Defines DOC, WOC, speed factors, feed factors, and engagement limits per operation type. Based on MIT 2.008, Sandvik data.",
      "key_functions": ["STRATEGY_PARAMS", "ROUGHING_DOC_PERCENT", "HSM_RADIAL_ENGAGEMENT_MAX"],
      "potential_duplicate": "PRISM_CAM_KERNEL_MIT.js (subset - MIT version is smaller, less complete)"
    },
    {
      "name": "PRISM_CAM_KERNEL_MIT.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 176,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "CAM kernel with offset curve generation for cutter compensation (MIT 2.158J, 2.008). Handles open/closed curve offsets with normal calculation and miter joining.",
      "key_functions": ["offsetCurve2D"],
      "potential_duplicate": "PRISM_CAM_KERNEL_COMPLETE.js (superset contains equivalent functionality)"
    },
    {
      "name": "PRISM_CAM_TOOLPATH_PARAMETERS_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 162,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Toolpath parameter definitions from HyperMill CAM Manual. Defines approach/retract macro types (axial, circular, profile-oriented, ramp, helix) with parameters and applications.",
      "key_functions": ["approachRetractMacros.types"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CLIPPER2_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 1317,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "2D polygon clipping engine (Clipper2-style). Implements boolean operations (union, intersection, difference, XOR) on polygons using integer arithmetic with configurable scale factor. Used for toolpath offsetting and pocket boundaries.",
      "key_functions": ["point", "path", "paths", "clipPolygons"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CONSTRUCTION_GEOMETRY_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 461,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Construction geometry system for planes, axes, and points (Fusion 360 style). Creates offset planes, angled planes, midplanes, tangent planes, construction axes through points/edges, and reference points.",
      "key_functions": ["createOffsetPlane", "createPlaneAtAngle", "_rotateVectorAroundAxis"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_CURVATURE_ANALYSIS_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 319,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Surface curvature analysis: Gaussian (angle defect), mean, principal curvatures, shape index, and curvedness. Uses mixed Voronoi areas (Meyer et al. 2003). Key for adaptive toolpath stepover and surface quality assessment.",
      "key_functions": ["computeAll", "computeGaussian", "computeMean", "computePrincipal", "_computeMixedVoronoiAreas"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ENHANCED_MILL_TURN_CAM_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 436,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Mill-turn CAM engine for multi-channel machines. Configures main/sub spindle, upper/lower turret, milling spindle. Supports synchronization types (wait, transfer, balanced, simultaneous, timed) and Y-axis/B-axis milling.",
      "key_functions": ["machineConfig", "channels", "syncTypes"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ENHANCED_TOOLPATH_GENERATOR.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 390,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "2D pocket toolpath generator with real coordinates. Supports zigzag, spiral, and parallel patterns. Calculates tool moves (rapid, feed, plunge), statistics (distances, estimated time), and island avoidance.",
      "key_functions": ["generatePocket"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_FEATURE_HISTORY_MANAGER.js",
      "source_dir": "cad_cam",
      "subcategory": "feature_recognition",
      "lines": 492,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Parametric feature history tree manager with undo/redo. Tracks feature types (extrude, revolve, sweep, loft, hole, thread, fillet, chamfer, shell, boolean ops), dependencies, and parameters. Supports rollback and replay.",
      "key_functions": ["state", "featureTypes", "undo", "redo", "rollback"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_FEATURE_INTERACTION_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "feature_recognition",
      "lines": 879,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Feature interaction analysis for manufacturing planning. Builds precedence graphs (thread after hole, counterbore after hole, etc.), detects interference, shared setups, access blocking, and tolerance relationships. Based on MIT 16.410, 2.008.",
      "key_functions": ["PRECEDENCE_RULES", "INTERACTION_TYPES", "buildPrecedenceGraph"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_FEATURE_RECOGNITION_ENHANCED.js",
      "source_dir": "cad_cam",
      "subcategory": "feature_recognition",
      "lines": 304,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Mesh-based feature recognition: detects cylindrical features (holes, bosses) via circle fitting on grouped face normals, and pockets (closed depressions). Outputs feature type, center, radius, normal, confidence score.",
      "key_functions": ["detectCylindricalFeatures", "detectPockets", "_groupFacesByNormal", "_fitCircle"],
      "potential_duplicate": "PRISM_COMPLETE_FEATURE_ENGINE.js (text-based recognition vs mesh-based here)"
    },
    {
      "name": "PRISM_FILLETING_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 408,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Constant and variable radius filleting on solid edges. Clones solid, processes each edge with rolling-ball or setback approach, validates radius against edge geometry.",
      "key_functions": ["filletEdges", "_filletSingleEdge"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_FUSION_SKETCH_CONSTRAINT_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 385,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Parametric sketch constraint solver (Fusion 360 style). Supports horizontal, vertical, coincident, tangent, equal, parallel, perpendicular, fix, midpoint, concentric, collinear, symmetry, and smooth constraints.",
      "key_functions": ["constraintTypes", "applyHorizontalVertical", "solve"],
      "potential_duplicate": "PRISM_SKETCH_ENGINE.js (SKETCH_ENGINE has broader scope; this focuses on constraints)"
    },
    {
      "name": "PRISM_GEODESIC_DISTANCE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 4050,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "COMPOSITE FILE. Primary: geodesic distance computation (Dijkstra, Fast Marching Method, iso-curves, distance field, curve skeleton extraction). ALSO EMBEDS: duplicate copy of PRISM_NURBS_ADVANCED_ENGINE (from line 449) and NURBS curve intersection code. Needs decomposition.",
      "key_functions": ["computeDijkstra", "computeFastMarching", "computePath", "computeIsoCurves", "computeDistanceField", "computeCurveSkeleton"],
      "potential_duplicate": null,
      "notes": "COMPOSITE - contains embedded PRISM_NURBS_ADVANCED_ENGINE duplicate starting at line 449"
    },
    {
      "name": "PRISM_GEOMETRY_ALGORITHMS.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 386,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Core computational geometry algorithms: Delaunay triangulation (Bowyer-Watson), convex hull, Voronoi diagrams. Based on MIT RES.16-002. General-purpose geometry primitives.",
      "key_functions": ["delaunay.triangulate", "delaunay.addPoint", "delaunay.createSuperTriangle"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_INTELLIGENT_COLLISION_SYSTEM.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 153,
      "mfg_relevance": "HIGH",
      "implementation_quality": "PARTIAL",
      "description": "Machine collision detection system. Initializes collision zones from machine CAD databases (Okuma, learning engine, model DB). Lightweight orchestrator that delegates to actual BVH collision checks.",
      "key_functions": ["initForMachine"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_ISOSURFACE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 227,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Marching Cubes isosurface extraction (Lorensen & Cline 1987). Contains full edge/triangle lookup tables for extracting triangle meshes from scalar fields. Used for voxel-to-mesh conversion.",
      "key_functions": ["edgeTable", "triTable", "extractIsosurface"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_LATHE_TOOLPATH_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 555,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Lathe/turning toolpath generation: OD roughing (multiple passes with DOC control), ID boring, facing, threading, grooving. Generates proper rapid/feed moves with safe retract positions.",
      "key_functions": ["turning.odRough", "turning.idBore", "turning.face", "turning.thread", "turning.groove"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_MESH_DECIMATION_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 466,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Quadric Error Metrics (QEM) mesh simplification for LOD generation (Garland & Heckbert 1997). Computes initial quadrics, builds edge heap, collapses edges iteratively until target triangle count reached.",
      "key_functions": ["decimate", "_computeInitialQuadrics", "_buildEdgeList", "_buildEdgeHeap"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_MOTION_PLANNING_ENHANCED_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 344,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Motion planning with Probabilistic Roadmap (PRM), potential fields, and CNC-specific applications. Samples collision-free configurations, builds connectivity graph, finds shortest path. Based on MIT 16.410, Stanford CS 326.",
      "key_functions": ["prm", "_randomPoint", "_connectSamples"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_MULTIAXIS_TOOLPATH_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 668,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "5-axis toolpath engine with tool axis control (lead/lag/tilt angles from surface normals), singularity avoidance, smooth axis interpolation, and collision-aware axis adjustment. Core multi-axis CAM module.",
      "key_functions": ["toolAxisControl.fromNormalWithAngles", "_rotateAroundAxis", "_normalize", "_cross"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_NURBS_ADVANCED_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 139,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "NURBS curve/surface evaluation, knot insertion, curve derivatives, curve splitting. Based on Stanford CS 348A, Piegl & Tiller. Compact but complete rational B-spline library.",
      "key_functions": ["evaluateCurve", "evaluateSurface", "insertKnot", "curveDerivative", "splitCurve"],
      "potential_duplicate": "PRISM_NURBS_LIBRARY.js (similar basis evaluation; this is more compact), also duplicated inside PRISM_GEODESIC_DISTANCE_ENGINE.js"
    },
    {
      "name": "PRISM_NURBS_LIBRARY.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 237,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Complete NURBS library with basis functions (Cox-de Boor), curve evaluation with derivatives, surface evaluation with normals, and utility functions. More structured than NURBS_ADVANCED with basis/curve/surface/utils sections.",
      "key_functions": ["basis.N", "basis.basisFunctions", "curve.evaluate", "surface.evaluate", "surface.normal"],
      "potential_duplicate": "PRISM_NURBS_ADVANCED_ENGINE.js (overlapping evaluation logic)"
    },
    {
      "name": "PRISM_OFFSET_SURFACE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 121,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Surface offset and shell creation. Offsets mesh vertices along normals (smooth or face normals) and creates thin-wall shells by combining outer/inner offset meshes with flipped normals. Based on MIT 2.158J.",
      "key_functions": ["offsetMesh", "createShell"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_PARAMETRIC_CAD_ENHANCEMENT_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "feature_recognition",
      "lines": 266,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Parametric feature definitions with constraints and relations. Defines hole, pocket, boss, slot, chamfer, fillet with their parameters, constraints (e.g., cornerRadius <= width/2), and derived relations (e.g., tapDrill = diameter - pitch).",
      "key_functions": ["featureDefinitions.hole", "featureDefinitions.pocket", "featureDefinitions.boss", "featureDefinitions.slot"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_REAL_CAD_PRIORITY_SYSTEM.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 80,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Priority system for selecting best available CAD model: uploaded_cad(100) > scanned(90) > verified(80) > learned(70) > generated(50) > placeholder(10). Queries Okuma DB, learning engine, and model DB to find best candidate.",
      "key_functions": ["getBestModel", "priorities"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_REAL_TOOLPATH_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 14,
      "mfg_relevance": "HIGH",
      "implementation_quality": "STUB",
      "description": "STUB/PLACEHOLDER. Contains only extraction notes explaining that the actual PRISM_REAL_TOOLPATH_ENGINE definition was not found in the monolith. References show it is routed via PRISM_GATEWAY as 'toolpath.generate'. Implementation is missing.",
      "key_functions": [],
      "potential_duplicate": null,
      "notes": "STUB - only 14 lines, no actual implementation. Extraction failed to locate the definition."
    },
    {
      "name": "PRISM_REST_MACHINING_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 621,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Rest/remaining material machining with voxel-based stock model. Creates voxel stock, simulates previous tool removal, identifies remaining material, and generates rest machining toolpaths with smaller tools.",
      "key_functions": ["stockModel.create", "simulateToolRemoval", "identifyRestMaterial", "generateRestToolpath"],
      "potential_duplicate": "PRISM_VOXEL_STOCK_ENGINE.js (overlapping voxel stock model creation)"
    },
    {
      "name": "PRISM_SIEMENS_5AXIS_CAM_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 295,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Siemens 840D-specific 5-axis CAM programming. Defines TRAORI transformation modes, tool orientation modes (A3B3C3, LEAD/TILT, ORIWKS), and generates NC program headers. Controller-specific post-processing.",
      "key_functions": ["transformationModes", "orientationModes", "generateProgramHeader"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_SILHOUETTE_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "visualization",
      "lines": 248,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Extracts silhouette edges for a given view direction by finding edges where one adjacent face is front-facing and the other back-facing. Used for wireframe/NPR rendering. Based on MIT 6.837.",
      "key_functions": ["extractSilhouette", "_faceNormal", "_normalize"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_SKETCH_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 681,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "2D sketch engine with sketch management, entity creation (lines, circles, arcs, rectangles), work planes (XY/XZ/YZ), grid snapping, and constraint support. Full parametric sketch workflow for CAD modeling.",
      "key_functions": ["createSketch", "state", "addLine", "addCircle", "addArc"],
      "potential_duplicate": "PRISM_FUSION_SKETCH_CONSTRAINT_ENGINE.js (constraint solver is a subset of this)"
    },
    {
      "name": "PRISM_SOLID_EDITING_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 550,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Direct solid editing: press/pull, fillet, chamfer, shell, combine, split, draft, offset face operations. Fusion 360-style direct modeling with constant/variable/chord-length radius types and rolling-ball/setback corners.",
      "key_functions": ["pressPull", "createFillet", "createChamfer", "shell", "combine"],
      "potential_duplicate": "PRISM_FILLETING_ENGINE.js (fillet operations overlap)"
    },
    {
      "name": "PRISM_SURFACE_INTERSECTION_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 126,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Surface-surface intersection curve tracing. Finds initial intersection points by sampling, then traces curves using marching method. Based on MIT 2.158J (Patrikalakis). Compact implementation.",
      "key_functions": ["intersect", "_findStarts", "_trace", "_refine"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_SURFACE_RECONSTRUCTION_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 588,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "Point cloud to surface reconstruction: Poisson reconstruction (Kazhdan), Ball Pivoting Algorithm (Bernardini). Builds octree, computes indicator function from normals, solves Poisson equation, extracts isosurface.",
      "key_functions": ["poissonReconstruction", "ballPivoting", "_buildOctree", "_solvePoissonEquation"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_TOOLPATH_OPTIMIZATION.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 214,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Toolpath optimization: arc fitting (replaces linear segments with G2/G3 arcs within tolerance), with tight/standard/rough tolerance presets (5/10/50 micron). Reduces program size and improves surface finish.",
      "key_functions": ["arcFitting.fitArc", "arcFitting.findCircleCenter", "arcFitting.tolerances"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_TOOLPATH_STRATEGIES_COMPLETE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 1048,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Comprehensive toolpath strategy catalog: defines all available 3D finishing (blend, cleanup, constant_z, contour_3D, corner, flowline, geodesic), roughing, and multi-axis strategies with axes (3D/5-axis), category, and capability flags.",
      "key_functions": ["BLEND_FINISHING", "CLEANUP", "CONSTANT_Z", "CONTOUR_3D", "CORNER_FINISHING", "FLOWLINE", "GEODESIC"],
      "potential_duplicate": "PRISM_FEATURE_STRATEGY_COMPLETE.js (strategy vs feature-to-strategy mapping)"
    },
    {
      "name": "PRISM_TOPOLOGY_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "analysis",
      "lines": 911,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Persistent homology / topological data analysis engine. Builds simplicial complexes, computes filtrations, tracks Betti numbers (beta_0, beta_1, beta_2). Uses persistence diagrams for shape analysis. Innovation-level topological feature detection.",
      "key_functions": ["createSimplex", "computeFiltration", "computePersistence", "config"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_UNIFIED_3D_VIEWPORT_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "visualization",
      "lines": 935,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "COMPLETE",
      "description": "3D viewport rendering engine with configurable colors for backgrounds, grids, axes, toolpaths (rapid/feed/plunge/retract/arc), stock, fixtures, tools, and workpieces. Manages multiple viewports, selection, measurement, and section planes.",
      "key_functions": ["config", "state", "createViewport", "render", "selectObject", "measureDistance"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_UNIFIED_TOOLPATH_DECISION_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "toolpath",
      "lines": 347,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Multi-factor toolpath strategy decision engine. Weights feature (0.25), material (0.20), machine (0.20), tool (0.15), productivity (0.10), quality (0.10) factors. Selects optimal strategy per machine type from strategy database.",
      "key_functions": ["decisionFactors", "strategyDatabase", "selectStrategy"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_V858_CAD_SYSTEM.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 66,
      "mfg_relevance": "MEDIUM",
      "implementation_quality": "PARTIAL",
      "description": "High-level CAD system registration: lists components (sketch entities, constraint solver, 3D features, AI generator, UI) and capabilities (sketching, constraints, features, direct modeling, AI). Thin orchestrator referencing external modules.",
      "key_functions": ["components", "capabilities"],
      "potential_duplicate": null,
      "notes": "Thin orchestrator - references undefined globals (ADVANCED_SKETCH_ENTITIES, ENHANCED_CONSTRAINT_SOLVER, etc.)"
    },
    {
      "name": "PRISM_VORONOI_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "geometry",
      "lines": 119,
      "mfg_relevance": "LOW",
      "implementation_quality": "COMPLETE",
      "description": "Fortune's sweep-line Voronoi diagram construction. Includes priority queue, bounding box, polygon edge discretization. Used for medial axis extraction and toolpath spacing optimization.",
      "key_functions": ["PriorityQueue", "config"],
      "potential_duplicate": null
    },
    {
      "name": "PRISM_VOXEL_STOCK_ENGINE.js",
      "source_dir": "cad_cam",
      "subcategory": "cam_operations",
      "lines": 495,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Voxel-based stock simulation with adaptive resolution and octree acceleration. Tracks material volume, removed volume, overcut/undercut with color coding. Up to 10M voxels. Used for stock removal simulation and verification.",
      "key_functions": ["initializeFromBox", "simulateToolRemoval", "config", "state"],
      "potential_duplicate": "PRISM_REST_MACHINING_ENGINE.js (overlapping voxel stock model)"
    },
    {
      "name": "PRISM_COMPLETE_CAD_CAM_ENGINE.js",
      "source_dir": "cad_complete",
      "subcategory": "feature_recognition",
      "lines": 308,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Hybrid feature recognition with multiple methods (pattern, keyword, geometric, inference). Falls back through methods to find best confidence. Also includes material recognition and complete CAD-to-CAM pipeline (feature->material->tools->toolpaths->gcode).",
      "key_functions": ["recognizeFeatures", "_patternRecognition", "_keywordRecognition", "_geometricRecognition", "_inferenceRecognition"],
      "potential_duplicate": "PRISM_FEATURE_RECOGNITION_ENHANCED.js (mesh-based vs this multi-method approach)"
    },
    {
      "name": "PRISM_COMPLETE_CAD_GENERATION_ENGINE.js",
      "source_dir": "cad_complete",
      "subcategory": "geometry",
      "lines": 2914,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Complete CAD generation engine with embedded math utilities, vector/matrix ops, and feature-to-geometry conversion. Large monolithic engine (2914 lines) that generates 3D geometry from feature descriptions. Includes its own vec3/cross/dot math.",
      "key_functions": ["config", "math.vec3", "math.add", "math.sub", "math.cross", "generateFromFeatures"],
      "potential_duplicate": "PRISM_CAD_MATH.js (duplicated math utilities)"
    },
    {
      "name": "PRISM_COMPLETE_FEATURE_ENGINE.js",
      "source_dir": "cad_complete",
      "subcategory": "feature_recognition",
      "lines": 496,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Feature type definitions with full recognition patterns, operations, and tool mappings. Defines pocket, hole (thru/blind/counterbore/countersink/tapped), slot, thread with regex patterns, keyword matching, and CAM operation sequences.",
      "key_functions": ["featureTypes.pocket", "featureTypes.hole", "featureTypes.slot", "featureTypes.thread"],
      "potential_duplicate": "PRISM_PARAMETRIC_CAD_ENHANCEMENT_ENGINE.js (overlapping feature definitions)"
    },
    {
      "name": "PRISM_FEATURE_STRATEGY_COMPLETE.js",
      "source_dir": "cad_complete",
      "subcategory": "toolpath",
      "lines": 1458,
      "mfg_relevance": "HIGH",
      "implementation_quality": "COMPLETE",
      "description": "Feature-to-toolpath-strategy mapping for 95 feature types. Maps each feature (pocket_open, pocket_closed, etc.) to roughing, semi-finish, and finishing strategy lists with preferred tools. Comprehensive manufacturing strategy encyclopedia.",
      "key_functions": ["features.pocket_open", "features.pocket_closed"],
      "potential_duplicate": "PRISM_TOOLPATH_STRATEGIES_COMPLETE.js (complementary - strategies catalog vs feature-to-strategy mapping)"
    }
  ],
  "duplicate_clusters": [
    {
      "cluster": "NURBS/B-Spline evaluation",
      "files": [
        "PRISM_BSPLINE_ENGINE.js",
        "PRISM_CAD_KERNEL_MIT.js",
        "PRISM_NURBS_ADVANCED_ENGINE.js",
        "PRISM_NURBS_LIBRARY.js",
        "PRISM_GEODESIC_DISTANCE_ENGINE.js (embedded copy of NURBS_ADVANCED)"
      ],
      "recommendation": "Consolidate into single NURBS library. NURBS_LIBRARY has best structure. BSPLINE_ENGINE and CAD_KERNEL_MIT overlap on knot span / basis functions. NURBS_ADVANCED adds derivatives + splitting. Remove embedded copy from GEODESIC."
    },
    {
      "cluster": "CAM Kernel",
      "files": [
        "PRISM_CAM_KERNEL_COMPLETE.js",
        "PRISM_CAM_KERNEL_MIT.js"
      ],
      "recommendation": "CAM_KERNEL_COMPLETE is the superset. MIT version adds only offsetCurve2D which should be merged into COMPLETE."
    },
    {
      "cluster": "Voxel stock model",
      "files": [
        "PRISM_VOXEL_STOCK_ENGINE.js",
        "PRISM_REST_MACHINING_ENGINE.js"
      ],
      "recommendation": "REST_MACHINING depends on voxel stock. Extract shared voxel stock into VOXEL_STOCK_ENGINE and have REST_MACHINING import it."
    },
    {
      "cluster": "Feature recognition",
      "files": [
        "PRISM_FEATURE_RECOGNITION_ENHANCED.js",
        "PRISM_COMPLETE_FEATURE_ENGINE.js",
        "PRISM_COMPLETE_CAD_CAM_ENGINE.js",
        "PRISM_PARAMETRIC_CAD_ENHANCEMENT_ENGINE.js"
      ],
      "recommendation": "These serve complementary purposes: ENHANCED does mesh-based geometric detection, COMPLETE_FEATURE_ENGINE does text/regex recognition, COMPLETE_CAD_CAM_ENGINE is the pipeline orchestrator, PARAMETRIC defines constraints. Keep separate but wire together."
    },
    {
      "cluster": "Sketch/Constraint",
      "files": [
        "PRISM_SKETCH_ENGINE.js",
        "PRISM_FUSION_SKETCH_CONSTRAINT_ENGINE.js"
      ],
      "recommendation": "FUSION_SKETCH_CONSTRAINT is a specialized constraint solver. SKETCH_ENGINE is the broader sketch manager. Merge constraint solver into SKETCH_ENGINE as its solver module."
    },
    {
      "cluster": "Solid editing / Filleting",
      "files": [
        "PRISM_SOLID_EDITING_ENGINE.js",
        "PRISM_FILLETING_ENGINE.js"
      ],
      "recommendation": "SOLID_EDITING includes fillet operations. FILLETING_ENGINE has more detailed single-edge fillet implementation. Merge FILLETING into SOLID_EDITING as the fillet subsystem."
    },
    {
      "cluster": "Toolpath strategies",
      "files": [
        "PRISM_TOOLPATH_STRATEGIES_COMPLETE.js",
        "PRISM_FEATURE_STRATEGY_COMPLETE.js"
      ],
      "recommendation": "Complementary: STRATEGIES is the strategy catalog, FEATURE_STRATEGY maps features to strategies. Keep both but ensure consistent strategy names between them."
    }
  ],
  "composite_files_needing_decomposition": [
    {
      "file": "PRISM_BVH_ENGINE.js",
      "lines": 6562,
      "embedded_modules": ["BVH/AABB spatial index", "PRISM_COLLISION_ENGINE integration", "Johnson-Cook material DB aliases", "Thermal properties DB", "Fixture/Vise database (Kurt, Schunk)", "Clamping force calculator"],
      "recommendation": "Split into: (1) BVH spatial index core, (2) Collision detection service, (3) Fixture/vise database (move to separate data module)"
    },
    {
      "file": "PRISM_GEODESIC_DISTANCE_ENGINE.js",
      "lines": 4050,
      "embedded_modules": ["Geodesic distance algorithms", "NURBS_ADVANCED_ENGINE duplicate (from line 449)", "NURBS curve intersection"],
      "recommendation": "Remove embedded NURBS duplicate. Keep geodesic + curve intersection, import NURBS from canonical source."
    }
  ],
  "integration_recommendations": {
    "geometry": "Wire into CADKernel geometry subsystem. Consolidate 5 NURBS/B-spline files into single canonical PRISM_NURBS_UNIFIED. BREP_CAD_GENERATOR_V2 is the primary BREP kernel. COMPLETE_CAD_GENERATION_ENGINE provides feature-to-geometry pipeline. CLIPPER2 provides 2D boolean ops needed by toolpath offset.",
    "toolpath": "Wire into ToolpathCalculations + ToolpathStrategyRegistry. FEATURE_STRATEGY_COMPLETE provides the feature-to-strategy mapping. TOOLPATH_STRATEGIES_COMPLETE provides the strategy catalog. UNIFIED_TOOLPATH_DECISION_ENGINE is the strategy selector. MULTIAXIS and LATHE engines handle specific machine types. ENHANCED_TOOLPATH_GENERATOR handles 2D pocket generation.",
    "feature_recognition": "Wire into FeatureRecognitionPipeline. FEATURE_RECOGNITION_ENHANCED does mesh-based detection. COMPLETE_FEATURE_ENGINE does text/keyword detection. COMPLETE_CAD_CAM_ENGINE orchestrates the pipeline. PARAMETRIC_CAD_ENHANCEMENT provides constraint validation. FEATURE_INTERACTION_ENGINE handles inter-feature dependencies.",
    "cam_operations": "Wire into CAMIntegrationEngine. CAD_CAM_INTEGRATION_HUB is the central data source registry. CAM_KERNEL_COMPLETE provides strategy parameters. ENHANCED_MILL_TURN handles multi-channel machines. SIEMENS_5AXIS handles controller-specific output. VOXEL_STOCK_ENGINE provides stock simulation.",
    "visualization": "Wire into ViewportSystem. UNIFIED_3D_VIEWPORT_ENGINE is the main renderer. SILHOUETTE_ENGINE provides wireframe edge extraction.",
    "analysis": "Wire into QualityAssurance + ManufacturingAnalysis. CAD_CONFIDENCE_ENGINE scores generation quality. CAD_QUALITY_ASSURANCE validates models. CURVATURE_ANALYSIS supports adaptive toolpath. INTELLIGENT_COLLISION_SYSTEM detects machine collisions. TOPOLOGY_ENGINE provides advanced shape analysis."
  },
  "summary_statistics": {
    "total_lines": 39072,
    "avg_lines_per_file": 662,
    "largest_file": "PRISM_BVH_ENGINE.js (6562 lines - composite)",
    "smallest_file": "PRISM_REAL_TOOLPATH_ENGINE.js (14 lines - stub)",
    "stub_files": 1,
    "partial_files": 2,
    "complete_files": 56,
    "composite_files_needing_split": 2,
    "duplicate_clusters": 7,
    "high_mfg_relevance": 32,
    "medium_mfg_relevance": 18,
    "low_mfg_relevance": 9
  }
}
