---
name: prism-skill-orchestrator
description: |
  PRISM Master Skill Orchestrator v6.0 - Complete Integration System
  118 Skills | 64 Agents | 22 Formulas | 147 Hooks | 32 Coefficients
  Mathematically optimal hierarchy with ILP-based resource selection.
  Level 0 Always-On - automatically coordinates all PRISM resources.
---

# PRISM SKILL ORCHESTRATOR v7.0
## MAXIMUM UTILIZATION: 119 Skills + 64 Agents + 22 Formulas + 147 Hooks
### UNLIMITED Deployment via F-PSI-001 v3.0 | Updated: 2026-01-30

---

# RESOURCE INVENTORY

| Resource | Count | Status |
|----------|-------|--------|
| Skills | 119 | ✅ DEPLOYED |
| Agents | 64 | ✅ UNLIMITED |
| Formulas | 22 | ✅ ACTIVE |
| Hooks | 147 | ✅ ENFORCING |
| Coefficients | 32 | ✅ CALIBRATING |
| **DEPLOYMENT POLICY** | **UNLIMITED** | **MAXIMUM UTILIZATION** |

---

# SKILL HIERARCHY (5 LEVELS)

## Level 0: ALWAYS-ON (14 skills)
**Load automatically on EVERY session. Cannot be disabled.**

| Skill | Purpose | Hook Enforcement |
|-------|---------|------------------|
| prism-life-safety-mindset | Manufacturing = lives at stake | SYS-LAW1-SAFETY |
| prism-maximum-completeness | 100% theoretical/math/statistical | SYS-LAW3-COMPLETENESS |
| prism-anti-regression | Prevent content/feature loss | SYS-LAW4-REGRESSION |
| prism-predictive-thinking | Think N steps ahead | SYS-LAW5-PREDICTIVE |
| prism-mandatory-microsession | 15-25 item chunks | SYS-LAW2-MICROSESSION |
| prism-hook-system | 147 hook enforcement | ALL HOOKS |
| prism-mathematical-planning | MATHPLAN gate | SYS-MATHPLAN-GATE |
| prism-uncertainty-propagation | value ± error (confidence%) | SYS-CMD5-UNCERTAINTY |
| prism-formula-evolution | Formula lifecycle management | SYS-CALIBRATION-MONITOR |
| prism-deep-learning | Auto-propagate improvements | SYS-LEARNING-EXTRACT |
| prism-combination-engine | ILP optimization (F-PSI-001 v3.0) | Task planning |
| prism-prompt-engineering | Optimal prompt construction | All interactions |
| prism-skill-orchestrator | THIS - master coordination | All resources |
| prism-skill-deployer | Auto-deploy new skills to tree | skill:postCreate |

## Level 1: COGNITIVE (7 skills)
**Load for complex multi-resource tasks.**

| Skill | Purpose | Agents Used |
|-------|---------|-------------|
| prism-swarm-coordinator | Multi-agent swarm orchestration | coordinator_v2 |
| prism-resource-optimizer | Capability scoring (F-RESOURCE-001) | resource_auditor |
| prism-agent-selector | Agent selection (F-AGENT-001) | combination_optimizer |
| prism-synergy-calculator | Synergy computation (F-SYNERGY-001) | synergy_analyst |
| prism-reasoning-engine | Advanced reasoning chains | domain_expert |
| prism-process-optimizer | Process optimization | optimizer |
| prism-master-equation | Ψ(T,R) application | proof_generator |

## Level 2: WORKFLOW (15 skills)
**Load based on development phase.**

| Skill | Phase | Trigger Patterns |
|-------|-------|------------------|
| prism-sp-brainstorm | Design | "design", "plan", "new task", "feature" |
| prism-sp-planning | Planning | "create tasks", "break down", "roadmap" |
| prism-sp-execution | Implementation | "execute", "implement", "build", "code" |
| prism-sp-review-spec | Spec Review | "check spec", "verify output", "matches" |
| prism-sp-review-quality | Quality Review | "code review", "quality", "patterns" |
| prism-sp-debugging | Debugging | "debug", "error", "fix", "broken" |
| prism-sp-verification | Verification | "verify", "prove", "evidence", "complete" |
| prism-sp-handoff | Session End | "session end", "handoff", "continue later" |
| prism-claude-code-bridge | Script Execution | "run script", "execute python" |
| prism-tdd | Testing | "test", "unittest", "TDD" |
| prism-tdd-enhanced | Enhanced TDD | "test patterns", "manufacturing tests" |
| prism-planning | General Planning | "plan", "schedule" |
| prism-debugging | General Debug | "bug", "issue" |
| prism-review | General Review | "review", "check" |
| prism-verification | General Verify | "confirm", "validate" |

## Level 3: DOMAIN (64 skills)
**Load based on task domain.**

### 3.1 Monolith & Extraction (7 skills)
| Skill | Trigger | Purpose |
|-------|---------|---------|
| prism-monolith-index | "find module", "line number" | 831 module index |
| prism-monolith-extractor | "extract", "pull out" | Safe extraction |
| prism-monolith-navigator | "navigate", "search monolith" | Search strategies |
| prism-monolith-navigator-sp | "extraction session" | Session-based navigation |
| prism-codebase-packaging | "pack codebase", "repomix" | AI-friendly packaging |
| prism-extractor | "extract module" | Module extraction |
| prism-extraction-index | "extraction index" | Index management |

### 3.2 Materials System (7 skills)
| Skill | Trigger | Purpose |
|-------|---------|---------|
| prism-material-schema | "127 parameters", "material structure" | Schema definition |
| prism-material-physics | "Kienzle", "Taylor", "Johnson-Cook" | Physics models |
| prism-material-lookup | "find material", "lookup" | Material search |
| prism-material-validator | "validate material", "check coverage" | Validation |
| prism-material-enhancer | "enhance", "fill gaps" | Gap filling |
| prism-material-template | "material template" | Template generation |
| prism-category-defaults | "category defaults" | ISO 513 defaults |

### 3.3 Expert Roles (11 skills)
| Skill | Domain | Expertise |
|-------|--------|-----------|
| prism-expert-master | All | Consolidated expert access |
| prism-expert-master-machinist | Shop floor | 40+ years experience |
| prism-expert-materials-scientist | Materials | Metallurgy, properties |
| prism-expert-cam-programmer | CAM | Toolpath, strategy |
| prism-expert-cad-expert | CAD | Feature recognition |
| prism-expert-post-processor | Post | G-code, controllers |
| prism-expert-mechanical-engineer | Mechanics | Stress, deflection |
| prism-expert-mathematics | Math | Numerical methods |
| prism-expert-thermodynamics | Thermal | Heat transfer |
| prism-expert-quality-control | QC | SPC, inspection |
| prism-expert-quality-manager | Quality | Process management |

### 3.4 Controllers (5 skills)
| Skill | Controller | Coverage |
|-------|------------|----------|
| prism-controller-quick-ref | All | Navigation guide |
| prism-fanuc-programming | Fanuc | 0i, 30i, 31i |
| prism-siemens-programming | Siemens | 840D, 828D |
| prism-heidenhain-programming | Heidenhain | TNC 640, 530 |
| prism-gcode-reference | Universal | ISO 6983 |

### 3.5 Quality & Safety (5 skills)
| Skill | Purpose |
|-------|---------|
| prism-quality-master | Consolidated quality |
| prism-quality-gates | Gate definitions |
| prism-safety-framework | Safety constraints |
| prism-validator | Validation patterns |
| prism-auditor | Module auditing |

### 3.6 Session & State (8 skills)
| Skill | Purpose |
|-------|---------|
| prism-session-master | Consolidated session |
| prism-state-manager | State persistence |
| prism-session-handoff | Handoff protocol |
| prism-session-buffer | Buffer management |
| prism-context-pressure | Context optimization |
| prism-context-dna | Context extraction |
| prism-task-continuity | Task continuation |
| prism-quick-start | Fast session start |

### 3.7 Code & Architecture (8 skills)
| Skill | Purpose |
|-------|---------|
| prism-code-master | Consolidated code |
| prism-code-perfection | Code quality |
| prism-coding-patterns | MIT patterns |
| prism-algorithm-selector | Algorithm selection |
| prism-dependency-graph | Dependency mapping |
| prism-large-file-writer | Chunked writing |
| prism-tool-selector | Tool selection |
| prism-unit-converter | Unit conversion |

### 3.8 Product & Calculators (3 skills)
| Skill | Purpose |
|-------|---------|
| prism-product-calculators | Speed/feed engines |
| prism-tool-holder-schema | 85-parameter holders |
| prism-speed-feed-engine | Core calculations |

### 3.9 Development Utilities (10 skills)
| Skill | Purpose |
|-------|---------|
| prism-dev-utilities | Consolidated utilities |
| prism-development | Session protocols |
| prism-python-tools | Python automation |
| prism-utilization | Utilization checks |
| prism-consumer-mapper | Consumer mapping |
| prism-hierarchy-manager | Layer management |
| prism-swarm-orchestrator | Multi-agent patterns |
| prism-knowledge-master | Knowledge access |
| prism-knowledge-base | MIT/Stanford courses |

## Level 4: REFERENCE (18 skills)
**Lookup only - load on demand.**

| Skill | Size | Content |
|-------|------|---------|
| prism-api-contracts | 186KB | 500+ gateway routes |
| prism-error-catalog | 123KB | Error codes 1000-9999 |
| prism-manufacturing-tables | 141KB | Thread, tap, tolerance |
| prism-wiring-templates | 89KB | Consumer wiring |
| prism-post-processor-reference | 18KB | Post details |
| prism-physics-formulas | - | Physics equations |
| prism-physics-reference | - | Quick reference |
| prism-derivation-helpers | - | Derivation methods |
| prism-formal-definitions | - | Formal specs |
| prism-universal-formulas | - | Universal equations |
| prism-design-patterns | 42KB | GoF patterns |
| prism-solid-principles | 29KB | SOLID principles |
| prism-performance-patterns | 30KB | Performance |
| prism-security-coding | 23KB | Security |
| prism-typescript-safety | 24KB | TypeScript |
| prism-code-complete-integration | 20KB | McConnell |
| prism-error-recovery | - | Recovery strategies |
| prism-error-handling-patterns | 26KB | Error patterns |

---

# 64 AGENTS (By Tier)

## OPUS Tier (18 agents) - Complex Reasoning
| Agent | Role | Skills Used |
|-------|------|-------------|
| architect | System design | sp-brainstorm, code-master |
| coordinator_v2 | ILP-based selection | combination-engine |
| materials_scientist | Materials expertise | material-physics, material-schema |
| master_machinist | Shop floor wisdom | expert-master-machinist |
| physics_validator | Physics validation | material-physics, uncertainty |
| domain_expert | Domain knowledge | expert-master, knowledge-master |
| migration_specialist | Code migration | monolith-extractor |
| synthesizer | Cross-domain fusion | reasoning-engine |
| debugger | Root cause analysis | sp-debugging |
| root_cause_analyst | 5-why analysis | sp-debugging |
| task_decomposer | Task breakdown | sp-planning |
| learning_extractor_v2 | Synergy learning | deep-learning |
| verification_chain | Verification | sp-verification |
| uncertainty_quantifier | Uncertainty | uncertainty-propagation |
| knowledge_graph_builder | Knowledge | knowledge-master |
| meta_analyst_v2 | Resource utilization | resource-optimizer |
| combination_optimizer | ILP solving | combination-engine |
| proof_generator | Optimality proofs | mathematical-planning |

## SONNET Tier (37 agents) - Balanced Tasks
| Agent | Role | Cost |
|-------|------|------|
| coder | Code writing | $15/1M |
| extractor | Module extraction | $15/1M |
| validator | Validation | $15/1M |
| code_reviewer | Code review | $15/1M |
| security_auditor | Security | $15/1M |
| test_generator | Test creation | $15/1M |
| documentation_writer | Documentation | $15/1M |
| optimizer | Optimization | $15/1M |
| refactorer | Refactoring | $15/1M |
| pattern_matcher | Pattern matching | $15/1M |
| completeness_auditor | Completeness | $15/1M |
| dependency_analyzer | Dependencies | $15/1M |
| formula_validator | Formula validation | $15/1M |
| estimator | Estimation | $15/1M |
| cross_referencer | Cross-reference | $15/1M |
| monolith_navigator | Navigation | $15/1M |
| material_lookup | Material search | $15/1M |
| gcode_expert | G-code | $15/1M |
| machine_specialist | Machine specs | $15/1M |
| standards_expert | Standards | $15/1M |
| session_continuity | Session state | $15/1M |
| state_manager | State persistence | $15/1M |
| synergy_analyst | Synergy patterns | $15/1M |
| resource_auditor | Resource audit | $15/1M |
| calibration_engineer | Calibration | $15/1M |
| test_orchestrator | Test orchestration | $15/1M |
| (+ 11 more specialized) | Various | $15/1M |

## HAIKU Tier (9 agents) - Quick Tasks
| Agent | Role | Cost |
|-------|------|------|
| quick_lookup | Fast lookups | $1.25/1M |
| formatter | Formatting | $1.25/1M |
| counter | Counting | $1.25/1M |
| lister | List operations | $1.25/1M |
| summarizer | Summarization | $1.25/1M |
| translator | Translation | $1.25/1M |
| comparator | Comparison | $1.25/1M |
| merger | Merging | $1.25/1M |
| reporter | Reporting | $1.25/1M |

---

# 22 FORMULAS

## Planning (5)
| ID | Name | Purpose |
|----|------|---------|
| F-PLAN-001 | Session Complexity | Estimate session effort |
| F-PLAN-002 | Task Decomposition | Break into microsessions |
| F-PLAN-003 | Context Budget | Manage context window |
| F-PLAN-004 | Checkpoint Timing | When to save state |
| F-PLAN-005 | Tool Call Estimate | Predict tool calls |

## Materials (2)
| ID | Name | Purpose |
|----|------|---------|
| F-MAT-001 | Completeness Score | Parameter coverage |
| F-MAT-002 | Material Grade | A-F quality grade |

## Quality (3)
| ID | Name | Purpose |
|----|------|---------|
| F-QUAL-001 | Safety Score S(x) | Safety threshold ≥0.70 |
| F-QUAL-002 | Math Rigor M(x) | Rigor threshold ≥0.60 |
| F-QUAL-003 | Completeness C(T) | Task completeness =1.0 |

## Physics (3)
| ID | Name | Purpose |
|----|------|---------|
| F-PHYS-001 | Kienzle Force | Cutting force model |
| F-PHYS-002 | Taylor Tool Life | Tool life prediction |
| F-PHYS-003 | Johnson-Cook | Constitutive model |

## Coordination (7) - NEW
| ID | Name | Purpose |
|----|------|---------|
| F-PSI-001 | Master Combination | ILP optimization |
| F-RESOURCE-001 | Capability Score | Resource-task match |
| F-SYNERGY-001 | Synergy Calculator | Pairwise synergy |
| F-COVERAGE-001 | Coverage Score | Requirement coverage |
| F-SWARM-001 | Swarm Efficiency | Multi-agent efficiency |
| F-AGENT-001 | Agent Selection | Minimum cost selection |
| F-PROOF-001 | Optimality Proof | LP duality proofs |

## Verification (1)
| ID | Name | Purpose |
|----|------|---------|
| F-VERIFY-001 | Evidence Level | L1-L5 verification |

---

# 147 HOOKS (25 Categories)

## System Hooks (15) - Cannot Disable
| Hook | Priority | Enforces |
|------|----------|----------|
| SYS-LAW1-SAFETY | 0 | BLOCKS S(x)<0.70 |
| SYS-LAW2-MICROSESSION | 32 | Requires MATHPLAN |
| SYS-LAW3-COMPLETENESS | 33 | BLOCKS C(T)<1.0 |
| SYS-LAW4-REGRESSION | 20 | BLOCKS data loss |
| SYS-LAW5-PREDICTIVE | 30 | Requires failure analysis |
| SYS-LAW6-CONTINUITY | 10 | Enforces state loading |
| SYS-LAW7-VERIFICATION | 0 | Requires 95% confidence |
| SYS-LAW8-MATH-EVOLUTION | 60 | BLOCKS M(x)<0.60 |
| SYS-MATHPLAN-GATE | 5 | Validates MATHPLAN |
| SYS-CMD1-WIRING | 110 | Requires 6-8 consumers |
| SYS-CMD5-UNCERTAINTY | 60 | AUTO-INJECTS uncertainty |
| SYS-PREDICTION-LOG | 200 | AUTO-LOGS predictions |
| SYS-CALIBRATION-MONITOR | 220 | Monitors formula health |
| SYS-LEARNING-EXTRACT | 170 | AUTO-EXTRACTS learnings |
| SYS-BUFFER-ZONE | 0 | BLOCKS at 19+ calls |

## Category Hooks (132)
| Category | Count | Key Points |
|----------|-------|------------|
| Session | 7 | preStart, postStart, preEnd, postCompact |
| Task | 10 | prePlan, mathPlanValidate, start, checkpoint |
| Microsession | 5 | start, progress, bufferWarning |
| Database | 10 | antiRegressionCheck, consumerWiringCheck |
| Material | 6 | completenessCheck, cascade |
| Calculation | 8 | uncertaintyInject, safetyBoundsCheck |
| Formula | 8 | calibrationCheck, coefficientUpdate |
| Prediction | 5 | create, recordActual |
| Agent | 6 | preExecute, postExecute, costTrack |
| Swarm | 6 | preStart, synthesize, complete |
| Ralph | 6 | iterationStart, completionCheck |
| Learning | 7 | extract, match, apply, propagate |
| Verification | 5 | start, levelComplete |
| Quality | 4 | gateCheck, blocked |
| Skill | 4 | detect, load, execute |
| Script | 4 | preExecute, error |
| Plugin | 6 | browserAction, filesystemAction |
| Transaction | 5 | Atomic operations |
| Health | 5 | System monitoring |
| Cache | 5 | Performance |
| Circuit Breaker | 4 | Resilience |
| Rate Limiting | 4 | Throttling |
| Audit Trail | 4 | Compliance |
| Feature Flag | 4 | Deployment |
| MCP Integration | 5 | Tool connectivity |

---

# AUTOMATIC SKILL LOADING

## Trigger Pattern Matching

```
USER MESSAGE → Pattern Match → Load Skills → Execute

Patterns:
- "design|plan|new task" → prism-sp-brainstorm
- "extract|pull out" → prism-monolith-extractor
- "material|127 param" → prism-material-schema
- "debug|error|fix" → prism-sp-debugging
- "verify|prove" → prism-sp-verification
- "Fanuc|0i|30i" → prism-fanuc-programming
- "Siemens|840D" → prism-siemens-programming
- "speed|feed|calc" → prism-product-calculators
```

## Loading Priority

```
1. L0 ALWAYS-ON (13) - Auto-loaded every session
2. L1 COGNITIVE (7) - Loaded for complex tasks
3. L2 WORKFLOW (15) - Loaded by phase
4. L3 DOMAIN (64) - Loaded by task domain
5. L4 REFERENCE (18) - Loaded on demand
```

---

# MASTER COMBINATION EQUATION (F-PSI-001 v3.0)

```
Ψ(T,R) = argmax [ Σᵢ Cap(rᵢ,T) × Syn(R) × Ω(R) / Cost(R) ]
         R⊆ALL

CONSTRAINTS (v3.0 - UNLIMITED DEPLOYMENT):
  |R_skills| = UNLIMITED     ← Deploy ALL relevant skills
  |R_agents| = UNLIMITED     ← Deploy ALL relevant agents
  |R_execution| = 1          ← One execution mode
  S(R) ≥ 0.70               ← Safety (HARD - cannot relax)
  M(R) ≥ 0.60               ← Math rigor
  Coverage(R,T) = 1.0       ← Full coverage required

POLICY: MAXIMUM UTILIZATION
  - Deploy ALL resources that improve task outcome
  - Only restrict if context overflow imminent
  - Cost is secondary to quality and completeness
```

---

# PATHS

```
STATE:        C:\PRISM\state\CURRENT_STATE.json
COORDINATION: C:\PRISM\data\coordination\
SKILLS:       C:\PRISM\skills-consolidated\
FORMULAS:     C:\PRISM\data\FORMULA_REGISTRY.json
AGENTS:       C:\PRISM\data\coordination\AGENT_REGISTRY.json
HOOKS:        prism-hook-system skill
SCRIPTS:      C:\PRISM\scripts\
ORCHESTRATOR: C:\PRISM\scripts\prism_unified_system_v6.py
```

---

# SUMMARY

```
╔═══════════════════════════════════════════════════════════════════╗
║  PRISM SKILL ORCHESTRATOR v6.0                                    ║
╠═══════════════════════════════════════════════════════════════════╣
║  Skills:       118 (13+7+15+64+18+1)                              ║
║  Agents:       64  (18 OPUS + 37 SONNET + 9 HAIKU)                ║
║  Formulas:     22  (5+2+3+3+7+1+1)                                ║
║  Hooks:        147 (15 system + 132 category)                     ║
║  Coefficients: 32                                                 ║
║                                                                   ║
║  OPTIMIZATION: F-PSI-001 ILP with optimality proofs               ║
║  ENFORCEMENT:  15 system hooks auto-enforce all 8 Laws            ║
║  HIERARCHY:    5 levels with automatic loading                    ║
╚═══════════════════════════════════════════════════════════════════╝
```

---

**v6.0 | 2026-01-30 | COMPLETE INTEGRATION | MATHEMATICALLY OPTIMAL**
