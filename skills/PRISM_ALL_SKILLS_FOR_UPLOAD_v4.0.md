---
name: prism-all-skills
description: |
  Complete PRISM Manufacturing Intelligence skill package v4.0 containing 99 skills
  and 64 agents for PRISM v13.0. Includes Combination Engine with F-PSI-001 ILP 
  optimization, 22 formulas, 147 hooks, and 691 cataloged resources.
  Covers: core development, monolith navigation, materials system, session management,
  quality/validation, code/architecture, AI expert roles, and coordination skills.
  Total coverage: 1.5MB+ of manufacturing intelligence.
version: 4.0.0
---

# PRISM ALL-SKILLS PACKAGE v4.0
## Complete Manufacturing Intelligence Skill Set
## For PRISM v13.0 | 99 Skills | 64 Agents | 22 Formulas

---

# QUICK REFERENCE

```
╔════════════════════════════════════════════════════════════════════╗
║  PRISM v13.0 SKILL PACKAGE                                         ║
╠════════════════════════════════════════════════════════════════════╣
║  Skills:       99 (93 existing + 6 NEW Combination Engine)         ║
║  Agents:       64 (58 existing + 6 NEW)                            ║
║  Formulas:     22 (15 existing + 7 NEW COORDINATION)               ║
║  Hooks:        147 (15 system hooks auto-enforce Laws)             ║
║  Coefficients: 40+                                                 ║
║  Resources:    691 cataloged                                       ║
║                                                                    ║
║  Databases:                                                        ║
║  - Materials: 3,518                                                ║
║  - Machines:  824                                                  ║
║  - Tools:     1,944                                                ║
╚════════════════════════════════════════════════════════════════════╝
```

---

# SECTION 1: SKILL HIERARCHY

## Level 0 - Always On (6 Skills)

These skills are ALWAYS active. They enforce core system behavior.

| Skill | Purpose | Auto-Enforced |
|-------|---------|---------------|
| **prism-combination-engine** ★ | ILP-based optimal resource selection via F-PSI-001 | Yes |
| prism-deep-learning | Automatic discovery and propagation of improvements | Yes |
| prism-formula-evolution | Formula lifecycle management, calibration tracking | Yes |
| prism-hook-system | 147 hook points, 15 system hooks auto-enforce Laws | Yes |
| prism-mathematical-planning | MATHPLAN gate, scope quantification, effort estimation | Yes |
| prism-uncertainty-propagation | Mandatory uncertainty on all outputs | Yes |

★ = NEW in v13.0

## Level 1 - Cognitive (10 Skills)

Higher-level reasoning and optimization skills.

| Skill | Purpose |
|-------|---------|
| **prism-agent-selector** ★ | Cost-optimized agent assignment via F-AGENT-001 |
| prism-code-perfection | Code quality standards, patterns, best practices |
| prism-master-equation | Omega quality score calculation |
| prism-process-optimizer | Workflow efficiency optimization |
| prism-reasoning-engine | Step-back reasoning, mathematical proof |
| **prism-resource-optimizer** ★ | Capability scoring and requirement matching |
| prism-safety-framework | S(x) ≥ 0.70 enforcement |
| **prism-swarm-coordinator** ★ | Multi-agent orchestration and task distribution |
| **prism-synergy-calculator** ★ | Pairwise resource interaction via F-SYNERGY-001 |
| prism-universal-formulas | Core physics and planning formulas |

## Level 2 - Workflow (9 Skills)

SP.1 Core Development Workflow skills.

| Skill | Purpose |
|-------|---------|
| **prism-claude-code-bridge** ★ | Script execution and Python integration |
| prism-sp-brainstorm | Socratic design with chunked approval |
| prism-sp-debugging | 4-phase mandatory debugging process |
| prism-sp-execution | Checkpoint execution with progress tracking |
| prism-sp-handoff | Session transition protocol |
| prism-sp-planning | Detailed task planning with exact specifications |
| prism-sp-review-quality | Code quality gate |
| prism-sp-review-spec | Specification compliance gate |
| prism-sp-verification | Evidence-based completion proof |

## Level 3 - Domain (16 Skills)

Domain-specific knowledge and navigation skills.

### Monolith Navigation (4)
- prism-monolith-index
- prism-monolith-navigator
- prism-monolith-extractor
- prism-codebase-packaging

### Materials System (5)
- prism-material-schema (127 parameters)
- prism-material-physics (Kienzle, Taylor, Johnson-Cook)
- prism-material-lookup
- prism-material-validator
- prism-material-enhancer

### Master Consolidation Skills (7)
- prism-session-master
- prism-quality-master
- prism-code-master
- prism-knowledge-master
- prism-expert-master
- prism-controller-quick-ref
- prism-dev-utilities

## Level 4 - Reference (20 Skills)

Comprehensive reference documentation.

### Controller Programming (4)
- prism-fanuc-programming (2,921 lines)
- prism-siemens-programming (2,789 lines)
- prism-heidenhain-programming (3,179 lines)
- prism-gcode-reference (2,566 lines)

### API & System (6)
- prism-api-contracts (6,114 lines)
- prism-error-catalog
- prism-manufacturing-tables
- prism-wiring-templates
- prism-product-calculators
- prism-post-processor-reference

### AI Expert Roles (10)
- prism-expert-cad-expert
- prism-expert-cam-programmer
- prism-expert-master-machinist
- prism-expert-materials-scientist
- prism-expert-mathematics
- prism-expert-mechanical-engineer
- prism-expert-post-processor
- prism-expert-quality-control
- prism-expert-quality-manager
- prism-expert-thermodynamics

---

# SECTION 2: 64 AGENTS BY TIER

## OPUS Tier (18 Agents) - Complex Reasoning

| Agent | Purpose | Status |
|-------|---------|--------|
| architect | System architecture design | |
| **combination_optimizer** | ILP optimization for resource selection | ★ NEW |
| coordinator | Task coordination and delegation | ↑ UPGRADED |
| debugger | Root cause analysis | |
| domain_expert | Domain-specific knowledge | |
| learning_extractor | Pattern extraction from sessions | ↑ UPGRADED |
| machinist | Shop floor expertise | |
| materials_scientist | Metallurgy and material selection | |
| meta_analyst | Meta-level analysis | ↑ UPGRADED |
| migration_specialist | Code migration strategies | |
| physics_validator | Physics consistency checks | |
| **proof_generator** | Mathematical proof generation | ★ NEW |
| root_cause_analyst | Deep problem analysis | |
| **synergy_analyst** | Resource interaction analysis | ★ NEW |
| synthesizer | Information synthesis | |
| task_decomposer | Task breakdown | |
| uncertainty_quantifier | Uncertainty analysis | |
| verification_chain | Multi-level verification | |

## SONNET Tier (37 Agents) - Balanced Tasks

| Agent | Purpose | Status |
|-------|---------|--------|
| analyst | Data analysis | |
| api_designer | API design patterns | |
| **calibration_engineer** | Formula calibration | ★ NEW |
| cam_specialist | CAM operations | |
| code_reviewer | Code review | |
| coder | Code generation | |
| completeness_auditor | Completeness verification | |
| context_builder | Context assembly | |
| cross_referencer | Cross-reference checking | |
| dependency_analyzer | Dependency analysis | |
| documentation_writer | Documentation | |
| estimator | Effort estimation | |
| extractor | Data extraction | |
| force_calculator | Cutting force calculations | |
| gcode_expert | G-code generation | |
| machine_specialist | Machine specifications | |
| merger | Data merging | |
| monolith_navigator | Legacy code navigation | |
| optimizer | Performance optimization | |
| pattern_matcher | Pattern recognition | |
| process_engineer | Process optimization | |
| quality_engineer | Quality assurance | |
| quality_gate | Quality checks | |
| refactorer | Code refactoring | |
| regression_checker | Regression testing | |
| researcher | Research tasks | |
| **resource_auditor** | Resource utilization audit | ★ NEW |
| schema_designer | Schema design | |
| security_auditor | Security review | |
| session_continuity | Session state management | |
| test_generator | Test generation | |
| **test_orchestrator** | Test suite orchestration | ★ NEW |
| thermal_calculator | Thermal calculations | |
| tool_engineer | Tool selection | |
| validator | Data validation | |

## HAIKU Tier (9 Agents) - Fast Lookups

| Agent | Purpose |
|-------|---------|
| call_tracer | Call stack tracing |
| cutting_calculator | Quick cutting calculations |
| formula_lookup | Formula retrieval |
| knowledge_graph_builder | Knowledge graph construction |
| material_lookup | Material data retrieval |
| standards_expert | Standards compliance |
| state_manager | State management |
| surface_calculator | Surface finish calculations |
| tool_lookup | Tool data retrieval |

---

# SECTION 3: 22 FORMULAS

## COORDINATION Formulas (7 NEW in v13.0) ★

| ID | Name | Symbol | Purpose |
|----|------|--------|---------|
| F-PSI-001 | Master Combination | Ψ(T,R) | ILP optimization for optimal resource selection |
| F-RESOURCE-001 | Capability Score | Cap(r,T) | Fuzzy matching resources to task requirements |
| F-SYNERGY-001 | Synergy Calculator | Syn(R) | Pairwise resource interaction effects |
| F-COVERAGE-001 | Task Coverage | Coverage(R,T) | Requirement completeness verification |
| F-SWARM-001 | Swarm Efficiency | SwarmEff(A) | Multi-agent performance measurement |
| F-AGENT-001 | Agent Selection | A*(T) | Cost-optimized agent assignment |
| F-PROOF-001 | Optimality Proof | Proof(R*) | Mathematical certificate generation |

### F-PSI-001: Master Combination Equation
```
Ψ(T,R) = argmax [ Σᵢ Cap(rᵢ,T) × Syn(R) × Ω(R) / Cost(R) ]
         R⊆ALL

CONSTRAINTS:
  |R_skills| ≤ 8, |R_agents| ≤ 8
  S(R) ≥ 0.70, M(R) ≥ 0.60
  Coverage(R,T) = 1.0

SOLVER: PuLP ILP, 500ms timeout, 2% gap
OUTPUT: R* with PROOF
```

## PLANNING Formulas (5)

| ID | Name | Purpose |
|----|------|---------|
| F-PLAN-001 | Task Completeness C(T) | Verify 100% completion |
| F-PLAN-002 | Effort Estimation v2.0 | Hook-aware effort calculation |
| F-PLAN-003 | Completion Confidence | Probability of true completion |
| F-PLAN-004 | Microsession Count | Calculate required microsessions |
| F-PLAN-005 | Time Estimation v2.0 | Latency-aware time calculation |

## MATERIALS Formulas (2)

| ID | Name | Purpose |
|----|------|---------|
| F-MAT-001 | Material Coverage Index | Parameter completeness |
| F-MAT-002 | Database Utilization Factor | Consumer coverage |

## QUALITY Formulas (3)

| ID | Name | Purpose |
|----|------|---------|
| F-QUAL-001 | Master Equation Ω | Overall quality score |
| F-QUAL-002 | Safety Score S(x) | Safety threshold (≥0.70) |
| F-QUAL-003 | Mathematical Rigor M(x) | Math rigor threshold (≥0.60) |

## PHYSICS Formulas (3)

| ID | Name | Purpose |
|----|------|---------|
| F-PHYS-001 | Kienzle Cutting Force | Fc = kc1.1 × h^(1-mc) × b |
| F-PHYS-002 | Taylor Tool Life | VT^n = C |
| F-PHYS-003 | Johnson-Cook Flow Stress | σ = [A + Bε^n][1 + C ln(ε̇*)][1 - T*^m] |

## VERIFICATION Formulas (1)

| ID | Name | Purpose |
|----|------|---------|
| F-VERIFY-001 | Verification Chain Score | 4-level verification scoring |

---

# SECTION 4: 147 HOOKS (15 System)

## System Hooks (Cannot Disable)

| Hook | Enforces | Effect |
|------|----------|--------|
| SYS-LAW1-SAFETY | Law 1 | BLOCKS if S(x) < 0.70 |
| SYS-LAW2-MICROSESSION | Law 2 | Requires MATHPLAN |
| SYS-LAW3-COMPLETENESS | Law 3 | BLOCKS if C(T) < 1.0 |
| SYS-LAW4-REGRESSION | Law 4 | BLOCKS data loss |
| SYS-LAW5-PREDICTIVE | Law 5 | Requires failure analysis |
| SYS-LAW6-CONTINUITY | Law 6 | Enforces state loading |
| SYS-LAW7-VERIFICATION | Law 7 | Requires 95% confidence |
| SYS-LAW8-MATH-EVOLUTION | Law 8 | BLOCKS if M(x) < 0.60 |
| SYS-MATHPLAN-GATE | MATHPLAN | Validates completeness |
| SYS-CMD1-WIRING | Cmd 1 | Requires 6-8 consumers |
| SYS-CMD5-UNCERTAINTY | Cmd 5 | Auto-injects uncertainty |
| SYS-PREDICTION-LOG | Logging | Auto-logs predictions |
| SYS-CALIBRATION-MONITOR | Calibration | Monitors formula health |
| SYS-LEARNING-EXTRACT | Learning | Auto-extracts patterns |
| SYS-BUFFER-ZONE | Buffer | BLOCKS at 19+ calls |

## Coordination Hooks (NEW in v13.0)

| Hook | Fires When | Purpose |
|------|------------|---------|
| coordination:preSelect | Before F-PSI-001 | Validate requirements |
| coordination:postSelect | After R* found | Log resources |
| coordination:synergyCalc | Synergy calculation | Track interactions |
| coordination:proofGenerate | Proof generation | Capture certificate |
| coordination:warmStart | Before ILP | Seed heuristic |
| coordination:ilpSolve | During ILP | Monitor solver |
| coordination:fallback | ILP unavailable | Trigger greedy |

---

# SECTION 5: AUTO-SKILL LOADING

| Keywords in Task | Skills to Load |
|------------------|---------------|
| optimal, combination, select | combination-engine, resource-optimizer, agent-selector |
| swarm, coordinate, multi-agent | swarm-coordinator, agent-selector |
| synergy, interaction | synergy-calculator |
| brainstorm, design, plan | sp-brainstorm, mathematical-planning |
| execute, implement, build | sp-execution, code-perfection |
| extract, parse, monolith | monolith-extractor, monolith-navigator |
| material, alloy, steel | material-schema, material-physics |
| debug, fix, error, bug | sp-debugging, error-catalog |
| verify, validate, audit | sp-verification, quality-master |
| formula, equation, calibrate | formula-evolution, uncertainty-propagation |
| hook, enforce | hook-system |
| gcode, fanuc, cnc | fanuc-programming, gcode-reference |
| siemens, sinumerik | siemens-programming |
| heidenhain | heidenhain-programming |
| session, state, resume | session-master |

---

# SECTION 6: QUICK SELECTION PATTERNS

## Session Start
```
prism-state-manager
prism-combination-engine
prism-mathematical-planning
```

## Resource Selection
```
prism-combination-engine
prism-agent-selector
prism-synergy-calculator
```

## Extraction Tasks
```
prism-monolith-extractor
prism-monolith-index
prism-auditor
```

## Materials Work
```
prism-material-schema
prism-material-physics
prism-manufacturing-tables
```

## Code Writing
```
prism-code-master
prism-coding-patterns
```

## Troubleshooting
```
prism-sp-debugging
prism-expert-master
prism-error-catalog
```

## G-code Generation
```
prism-gcode-reference
prism-fanuc-programming
prism-siemens-programming
```

## Quality Checks
```
prism-quality-master
prism-sp-verification
```

---

# SECTION 7: CORE PRINCIPLES

## 8 Laws (Auto-Enforced)

1. **LIFE-SAFETY** - S(x) ≥ 0.70 required
2. **MICROSESSIONS** - 15-25 items, max 15 calls
3. **COMPLETENESS** - C(T) = 1.0, no partial credit
4. **ANTI-REGRESSION** - New ≥ Old always
5. **PREDICTIVE** - 3 failure modes + mitigations
6. **CONTINUITY** - State in CURRENT_STATE.json
7. **VERIFICATION** - 4-level chain, 95% confidence
8. **MATH EVOLUTION** - M(x) ≥ 0.60 required

## 15 Commandments

1. USE EVERYWHERE (6-8 consumers/DB)
2. FUSE (cross-domain)
3. WIRE FIRST (100% consumers)
4. VERIFY ×3 (physics+empirical+historical)
5. UNCERTAINTY ALWAYS (value±error)
6. EXPLAIN (XAI)
7. FAIL GRACEFUL (fallbacks)
8. PROTECT (validate/sanitize/backup)
9. DEFENSIVE (all edge cases)
10. PERFORM (<2s/<500ms)
11. OPTIMIZE (measure first)
12. USER-OBSESS (3-click)
13. NEVER LOSE (auto-save/undo)
14. LEARN (feed pipeline)
15. IMPROVE (extract patterns)

## MATHPLAN Gate

```
[ ] SCOPE:        S = [exact total]
[ ] COMPLETENESS: C(T) = 1.0
[ ] DECOMPOSE:    Σ|dᵢ| = S
[ ] EFFORT:       [X] ± [Y] calls (95% CI)
[ ] TIME:         [X] ± [Y] min (95% CI)
[ ] MS_COUNT:     ⌈EFFORT/15⌉
[ ] RESOURCES:    R* = F-PSI-001(T) with proof
[ ] CONSTRAINTS:  [math invariants]
[ ] ORDER:        [sequence + checkpoints]
[ ] SUCCESS:      [criteria]
```

## Master Equation

```
Ω = 0.20R + 0.18C + 0.12P + 0.28S + 0.08L + 0.14M

HARD CONSTRAINTS:
  S(x) ≥ 0.70 (Safety)
  M(x) ≥ 0.60 (Math Rigor)

THRESHOLDS:
  Ω ≥ 0.90: RELEASE
  0.70-0.89: WARN
  < 0.70: BLOCK
```

---

# SECTION 8: ORCHESTRATOR COMMANDS

```powershell
# OPTIMAL COMBINATION (ILP-based) - RECOMMENDED
py -3 C:\PRISM\scripts\prism_unified_system_v6.py --optimal "Task"

# Intelligent swarm (64 agents)
py -3 C:\PRISM\scripts\prism_unified_system_v6.py --intelligent "Task"

# Manufacturing analysis (8 experts)
py -3 C:\PRISM\scripts\prism_orchestrator_v2.py --manufacturing "Material" "Op"

# Ralph loop (iterate until perfect)
py -3 C:\PRISM\scripts\prism_unified_system_v6.py --ralph agent "Prompt" N

# List all agents
py -3 C:\PRISM\scripts\prism_unified_system_v6.py --list
```

---

# SECTION 9: CRITICAL PATHS

```
ROOT:           C:\PRISM\
STATE:          C:\PRISM\state\CURRENT_STATE.json
FORMULA_REG:    C:\PRISM\data\FORMULA_REGISTRY.json
COEFF_DB:       C:\PRISM\data\COEFFICIENT_DATABASE.json
RESOURCE_REG:   C:\PRISM\data\coordination\RESOURCE_REGISTRY.json
CAPABILITY_MAT: C:\PRISM\data\coordination\CAPABILITY_MATRIX.json
SYNERGY_MAT:    C:\PRISM\data\coordination\SYNERGY_MATRIX.json
PRED_LOG:       C:\PRISM\state\learning\PREDICTION_LOG.json
SKILLS:         C:\PRISM\skills\
MATERIALS:      C:\PRISM\data\materials\
MACHINES:       C:\PRISM\data\machines\
TOOLS:          C:\PRISM\data\tools\
```

**⚠️ NEVER save to /home/claude/ - RESETS EVERY SESSION**

---

# DOCUMENT METADATA

```yaml
Skill:        prism-all-skills
Version:      4.0.0
Created:      2026-01-27
Updated:      2026-01-27
Author:       PRISM Development
Category:     Master Package

Contents:
  - 99 skills (6 NEW)
  - 64 agents (6 NEW + 3 UPGRADED)
  - 22 formulas (7 NEW COORDINATION)
  - 147 hooks (15 system)
  - 691 resources cataloged

Key Additions v4.0:
  - F-PSI-001 Master Combination Equation
  - ILP-based optimal resource selection
  - coordination:* hooks category
  - Orchestrator v6 with --optimal mode
  - RESOURCES step in MATHPLAN gate

Database Counts:
  - Materials: 3,518
  - Machines: 824
  - Tools: 1,944
```

---

**THIS IS MANUFACTURING INTELLIGENCE. LIVES DEPEND ON MATHEMATICAL CERTAINTY.**
**F-PSI-001 AUTO-SELECTS OPTIMAL RESOURCES FOR EVERY TASK.**

---

**Version:** 4.0.0 | **Date:** 2026-01-27 | **Skills:** 99 | **Agents:** 64
