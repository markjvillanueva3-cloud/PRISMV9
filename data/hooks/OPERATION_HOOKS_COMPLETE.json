{
  "version": "1.0.0",
  "created": "2026-02-02",
  "description": "Complete operation hooks - 41 gaps filled from Emergency Roadmap v4.0",
  "phase": "Phase 0 - Hook Maximization",
  "session": "17",
  "total_new_hooks": 41,
  "categories": {
    "calculation_execution": {
      "description": "Hooks for all calculation operations - SAFETY CRITICAL",
      "count": 12,
      "hooks": [
        {
          "id": "CALC-BEFORE-001",
          "name": "Before Calculation",
          "domain": "CALCULATION",
          "trigger": "calculation:before",
          "phase": "before",
          "description": "Fires before any calculation executes - validates inputs",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003",
          "context": {
            "required": ["formula_id", "inputs", "material_id"],
            "optional": ["machine_id", "tool_id"]
          },
          "validation": {
            "checkInputRanges": true,
            "checkMaterialCompatibility": true,
            "checkUnitConsistency": true
          }
        },
        {
          "id": "CALC-AFTER-001",
          "name": "After Calculation",
          "domain": "CALCULATION",
          "trigger": "calculation:after",
          "phase": "after",
          "description": "Fires after calculation completes - validates outputs",
          "priority": 20,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        },
        {
          "id": "CALC-SAFETY-001",
          "name": "On Safety Violation",
          "domain": "CALCULATION",
          "trigger": "calculation:safety_violation",
          "phase": "on_error",
          "description": "Fires when calculation output violates safety limits - CRITICAL",
          "priority": 0,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-002",
          "actions": {
            "blockOutput": true,
            "logViolation": true,
            "alertOperator": true
          }
        },
        {
          "id": "CALC-UNCERTAINTY-001",
          "name": "On Uncertainty Exceeded",
          "domain": "CALCULATION",
          "trigger": "calculation:uncertainty_exceeded",
          "phase": "on_error",
          "description": "Fires when calculation uncertainty exceeds threshold",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "WARN",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "CALC-VALIDATE-INPUT-001",
          "name": "Validate Calculation Inputs",
          "domain": "CALCULATION",
          "trigger": "calculation:validate_input",
          "phase": "before",
          "description": "Validates all input parameters before calculation",
          "priority": 5,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        },
        {
          "id": "CALC-VALIDATE-OUTPUT-001",
          "name": "Validate Calculation Outputs",
          "domain": "CALCULATION",
          "trigger": "calculation:validate_output",
          "phase": "after",
          "description": "Validates all output parameters after calculation",
          "priority": 15,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-002"
        },
        {
          "id": "CALC-PHYSICS-CHECK-001",
          "name": "Physics Consistency Check",
          "domain": "CALCULATION",
          "trigger": "calculation:physics_check",
          "phase": "after",
          "description": "Verifies calculation results are physically consistent",
          "priority": 12,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "CALC-KIENZLE-001",
          "name": "Kienzle Force Validation",
          "domain": "CALCULATION",
          "trigger": "calculation:kienzle",
          "phase": "after",
          "description": "Validates Kienzle cutting force calculations",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001",
          "formula": "Fc = kc1.1 × h^mc × b"
        },
        {
          "id": "CALC-TAYLOR-001",
          "name": "Taylor Tool Life Validation",
          "domain": "CALCULATION",
          "trigger": "calculation:taylor",
          "phase": "after",
          "description": "Validates Taylor tool life calculations",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001",
          "formula": "V × T^n = C"
        },
        {
          "id": "CALC-JOHNSON-COOK-001",
          "name": "Johnson-Cook Flow Stress Validation",
          "domain": "CALCULATION",
          "trigger": "calculation:johnson_cook",
          "phase": "after",
          "description": "Validates Johnson-Cook material flow stress calculations",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "CALC-CACHE-001",
          "name": "Calculation Cache Check",
          "domain": "CALCULATION",
          "trigger": "calculation:cache_check",
          "phase": "before",
          "description": "Checks if calculation result is cached",
          "priority": 1,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "CALC-LOG-001",
          "name": "Calculation Audit Log",
          "domain": "CALCULATION",
          "trigger": "calculation:log",
          "phase": "after",
          "description": "Logs all calculations for audit trail",
          "priority": 100,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        }
      ]
    },
    "file_creation": {
      "description": "Hooks for file creation operations - Anti-regression critical",
      "count": 8,
      "hooks": [
        {
          "id": "FILE-BEFORE-CREATE-001",
          "name": "Before File Create",
          "domain": "FILE",
          "trigger": "file:before_create",
          "phase": "before",
          "description": "Fires before any file is created",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-001"
        },
        {
          "id": "FILE-AFTER-CREATE-001",
          "name": "After File Create",
          "domain": "FILE",
          "trigger": "file:after_create",
          "phase": "after",
          "description": "Fires after file is created",
          "priority": 20,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "FILE-VALIDATE-001",
          "name": "File Validation Fail",
          "domain": "FILE",
          "trigger": "file:validation_fail",
          "phase": "on_error",
          "description": "Fires when file content validation fails",
          "priority": 5,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-001"
        },
        {
          "id": "FILE-ANTI-REGRESSION-001",
          "name": "Anti-Regression Check",
          "domain": "FILE",
          "trigger": "file:anti_regression",
          "phase": "before",
          "description": "Validates new file >= old file",
          "priority": 5,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-003"
        },
        {
          "id": "FILE-PATH-VALIDATE-001",
          "name": "Path Validation",
          "domain": "FILE",
          "trigger": "file:path_validate",
          "phase": "before",
          "description": "Validates file path is within allowed directories",
          "priority": 1,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "FILE-CONTENT-VALIDATE-001",
          "name": "Content Validation",
          "domain": "FILE",
          "trigger": "file:content_validate",
          "phase": "before",
          "description": "Validates file content before write",
          "priority": 8,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-001"
        },
        {
          "id": "FILE-BACKUP-001",
          "name": "Backup Before Overwrite",
          "domain": "FILE",
          "trigger": "file:backup",
          "phase": "before",
          "description": "Creates backup before overwriting existing file",
          "priority": 3,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "FILE-REGISTRY-UPDATE-001",
          "name": "Registry Update",
          "domain": "FILE",
          "trigger": "file:registry_update",
          "phase": "after",
          "description": "Updates file registry after creation",
          "priority": 50,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        }
      ]
    },
    "state_mutation": {
      "description": "Hooks for state changes - Context preservation critical",
      "count": 6,
      "hooks": [
        {
          "id": "STATE-BEFORE-MUTATE-001",
          "name": "Before State Mutation",
          "domain": "STATE",
          "trigger": "state:before_mutate",
          "phase": "before",
          "description": "Fires before any state change",
          "priority": 5,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        },
        {
          "id": "STATE-AFTER-MUTATE-001",
          "name": "After State Mutation",
          "domain": "STATE",
          "trigger": "state:after_mutate",
          "phase": "after",
          "description": "Fires after state change",
          "priority": 20,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        },
        {
          "id": "STATE-ROLLBACK-001",
          "name": "State Rollback",
          "domain": "STATE",
          "trigger": "state:rollback",
          "phase": "on_error",
          "description": "Fires when state mutation fails",
          "priority": 0,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-003"
        },
        {
          "id": "STATE-VALIDATE-001",
          "name": "State Validation",
          "domain": "STATE",
          "trigger": "state:validate",
          "phase": "after",
          "description": "Validates state consistency after mutation",
          "priority": 15,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        },
        {
          "id": "STATE-CHECKPOINT-001",
          "name": "Auto Checkpoint",
          "domain": "STATE",
          "trigger": "state:checkpoint",
          "phase": "after",
          "description": "Creates automatic checkpoint every N mutations",
          "priority": 50,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        },
        {
          "id": "STATE-SYNC-001",
          "name": "State Sync",
          "domain": "STATE",
          "trigger": "state:sync",
          "phase": "after",
          "description": "Syncs state to persistent storage",
          "priority": 80,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        }
      ]
    },
    "agent_spawning": {
      "description": "Hooks for agent lifecycle - Multi-agent coordination",
      "count": 5,
      "hooks": [
        {
          "id": "AGENT-BEFORE-SPAWN-001",
          "name": "Before Agent Spawn",
          "domain": "AGENT",
          "trigger": "agent:before_spawn",
          "phase": "before",
          "description": "Fires before agent is spawned",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-001"
        },
        {
          "id": "AGENT-AFTER-SPAWN-001",
          "name": "After Agent Spawn",
          "domain": "AGENT",
          "trigger": "agent:after_spawn",
          "phase": "after",
          "description": "Fires after agent is spawned",
          "priority": 20,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        },
        {
          "id": "AGENT-ERROR-001",
          "name": "Agent Error Handler",
          "domain": "AGENT",
          "trigger": "agent:error",
          "phase": "on_error",
          "description": "Fires when agent encounters error",
          "priority": 0,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-003"
        },
        {
          "id": "AGENT-HEARTBEAT-001",
          "name": "Agent Heartbeat",
          "domain": "AGENT",
          "trigger": "agent:heartbeat",
          "phase": "on_complete",
          "description": "Periodic health check for spawned agents",
          "priority": 50,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "AGENT-TERMINATE-001",
          "name": "Agent Termination",
          "domain": "AGENT",
          "trigger": "agent:terminate",
          "phase": "on_complete",
          "description": "Fires when agent terminates",
          "priority": 90,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        }
      ]
    },
    "batch_operations": {
      "description": "Hooks for batch processing - Parallel execution",
      "count": 6,
      "hooks": [
        {
          "id": "BATCH-BEFORE-001",
          "name": "Before Batch",
          "domain": "BATCH",
          "trigger": "batch:before",
          "phase": "before",
          "description": "Fires before batch operation starts",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        },
        {
          "id": "BATCH-AFTER-001",
          "name": "After Batch",
          "domain": "BATCH",
          "trigger": "batch:after",
          "phase": "after",
          "description": "Fires after batch completes",
          "priority": 20,
          "isBlocking": false,
          "canDisable": false,
          "enforcement": "ALWAYS",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        },
        {
          "id": "BATCH-PARTIAL-FAIL-001",
          "name": "Batch Partial Failure",
          "domain": "BATCH",
          "trigger": "batch:partial_failure",
          "phase": "on_error",
          "description": "Fires when some batch items fail",
          "priority": 5,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "WARN",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-003"
        },
        {
          "id": "BATCH-PROGRESS-001",
          "name": "Batch Progress",
          "domain": "BATCH",
          "trigger": "batch:progress",
          "phase": "on_complete",
          "description": "Reports batch progress at intervals",
          "priority": 50,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-001"
        },
        {
          "id": "BATCH-CHECKPOINT-001",
          "name": "Batch Checkpoint",
          "domain": "BATCH",
          "trigger": "batch:checkpoint",
          "phase": "on_complete",
          "description": "Creates checkpoint during long batch operations",
          "priority": 30,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "HAIKU",
          "agentId": "AGT-HAIKU-002"
        },
        {
          "id": "BATCH-PARALLEL-001",
          "name": "Batch Parallel Coordination",
          "domain": "BATCH",
          "trigger": "batch:parallel",
          "phase": "before",
          "description": "Coordinates parallel execution",
          "priority": 8,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        }
      ]
    },
    "formula_application": {
      "description": "Hooks for formula execution - Physics critical",
      "count": 4,
      "hooks": [
        {
          "id": "FORMULA-BEFORE-APPLY-001",
          "name": "Before Formula Apply",
          "domain": "FORMULA",
          "trigger": "formula:before_apply",
          "phase": "before",
          "description": "Fires before formula is applied",
          "priority": 10,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "FORMULA-AFTER-APPLY-001",
          "name": "After Formula Apply",
          "domain": "FORMULA",
          "trigger": "formula:after_apply",
          "phase": "after",
          "description": "Fires after formula is applied",
          "priority": 20,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "HARD_BLOCK",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "FORMULA-MAPE-EXCEED-001",
          "name": "MAPE Threshold Exceeded",
          "domain": "FORMULA",
          "trigger": "formula:mape_exceeded",
          "phase": "on_error",
          "description": "Fires when formula error exceeds threshold",
          "priority": 5,
          "isBlocking": true,
          "canDisable": false,
          "enforcement": "WARN",
          "agentTier": "OPUS",
          "agentId": "AGT-OPUS-001"
        },
        {
          "id": "FORMULA-SELECT-001",
          "name": "Formula Selection",
          "domain": "FORMULA",
          "trigger": "formula:select",
          "phase": "before",
          "description": "Selects optimal formula via ILP",
          "priority": 5,
          "isBlocking": false,
          "canDisable": true,
          "enforcement": "SOFT",
          "agentTier": "SONNET",
          "agentId": "AGT-SONNET-003"
        }
      ]
    }
  },
  "summary": {
    "total_hooks": 41,
    "blocking_hooks": 23,
    "safety_critical": 8,
    "opus_assigned": 12,
    "sonnet_assigned": 17,
    "haiku_assigned": 12
  }
}
